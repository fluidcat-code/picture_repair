<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pixprn</title>
    <link rel="icon" type="image/icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAIPklEQVRYhe2Wa3CV1RWG37W//V3OhYQEhTRiDCBIrEUaAqVWW1FGMUa8gEyKFRU1KrWCUNSYgdMYjxgkZlCkA1KIGhExpFAuUtQ6iMxouTMBwsUoqIcAQZKTc/ku+9u7P1AHR0HsTOsf3997redda+9ZawM/6UfU9qQD+jHAzVKi/nD70C66XvWDDbQcOY5PDndcKRmVE2kZIMzuFjIbBvbqIb4v9s2UjecOf1EU4mZlD10v7s61s+/AR4e/wMHW41e6PqYpoquIaSDGoEAgQjODmtE1ZC0e3OfbRt5SCtGdnxUlmTZNN/WR5xo6cgyGHM7s7zVwKJbA7kOf/tYHTSNiw0EERQQwioM0G0TdiQAJglSymaCqC3KDdRf26IG9SmHC+uaBx5hZAStwS9hkzLIYQjp3c0yq66cjeloDRzsdbNy863JFvIJIG6FxAmMMxFiCGHs2bLFayzDttqQ3TkhZrkB5xGgJ11nVdZec31yybEu/DmZW2pYxBgGd8YAO0zJF0KC68wI0Y0Gvc1oAfPsK2tqSeG/briFCsipJ7BpiDIwRNMYSuq7NCVu8dtigfkdPjdm455DVmfbyRhT22TfyhVW9bS0UcQyzVAaChgqaYEFD8BCvOyfIq5cOPO/AqbFfG2jtSOP9D3cV+RKVvlIjiMBADIwopWlsvmFoM0Ze8YtvgE/VDU8u7W3DmCa4NpZMwyDLhAqGXB4OLA1nmlWzr75w3/l0Ejdh7QdGz0DQffx3A0BppbDm7a2FnlCVvkQxiBiUDxDZXKMFpk7Rm64a1Ho68I0VL+fHXVnhMz6OODeYoQOmLqxwsMEKW9P+fuflX1f82Ju7+IbP46Wupk39/dALLp1c0AN8xdrNzyuwCUoRIwIUlEuk1RkaqkZfO+iz04HHPPxC3rGUP7X9RLJMadwgrkBSSZ1rDQGGyKQ/Xt087MuKJy7ewDcdSoz51+6jEWHo/UhTCWH7AAD+flPL6AF98lhGMCCIVL2pUfSm4QMPnA584z1P5bR1elM/bW2fQLphQVfQuBKcscawoUVX/GX0TiLCikeAqQvWsQ3720av3xGLSN26mJkAkwCz+CHmnjRAxVPmHVQKedldrPdEOnX36zMf+E548djHu5/oFI8KsDJoepi4BuKG1C2rISsrHH0peu/O7ODJih+etZi93xQbbTOzwjfMAUzXIY0AtEAwFs4IR/v2sBa8fMdlLgDQjeV1H/tK5UvXg+/arqZkfdBg0Ybah1oA4Oma+WzZ2/+udFzrQcb0roxrIK5Lw7SWZ2VnRlbPm9hEX7Z6TFmU7f40cYtDWjlMo5AZFsg0wa1ATO8SjvbP61732sThqZI7KqwRV19mPzjuejAesBg3dGg6h84NQ0IbH0/JPcUPPLvohgmz8h+bUiYNk79CUEuF8G0orAkZfPAjE0tHrZk/qYmIMGFaDS76zV0lm5oObemIJ99w0nahSDuQnohxX/3plz2z+m6rGTv3wJpGt9uge+9fv+3IjnhcAQAYC5iMTAuaZa01DVavMeYyjRmuwJ2JlNg7bNyTL2Zm5bo73nnhvlElQzOXLZx+/XvLqrbefMVFeKrmZdZvyLiS1au3bYt3uivdtDNQOjbg2K3kexN7ZVOfplcnzenYv0lkXjRq/J5POj5KxNN/9Ww3N213MgBgMA0gYMIPWa3LZpbd3sVkBQanxYyUUCBD+LinPSH2/vrm8nkfbt2T2ys3AzOfb2SXXH73yBdfW7cp6YiVjqcGSqkgfdVqcpqSnWH1anlr5nP5XYTomn/t2HXvNu1KJN2/uY6TR8IDCRcaMyUAcIQCIE9AExoAYMmsB1r2K3Xb45Ofr4xLGbEFGyOJDAEqO9aevnPANZMaFzWs6217cohSBAJAoKOmadb8rFvmnA/W1aa+erirV20oTQl/tufJbKYRlPAgSQBKk927ZJy8AgoFGAIWNEvvX7borRwA6EuEN2of2he9f9ht3TIDl3KN1ROYIOKGApUqsCGcaWCa3mqagUfzc8/te3DLwpmnwgHg8/3r6n/e54JeYZM/zBRivnAhXAfStZFwTh7lzNDjJGWuL/jQWCK1d+Qzy+aHSVYv/vOtbUVFRQCwG8DtxXc9VX38i0Q5AaWMqJ1045k+edlz177+ZPyj0w0NAG1HDnf1nVSB9JCtiEEpgkYUTx9vOzkH7lq5pX8q5VW7KafET9lMJJOQyXSceWK+Qf4zy6PjvzH/b73niZ6k6fGl88rjZ+Ait+91veMJpyLleGMBWFAKUJo0OG/MDJmRIwfX7Aa+XEbNJxzMWPVhYTJpVzrxVLFM2cxJ2xDpdIJJsTCk69Ura++PnQkIAEop5F18Q++UrSLJtFsqhDB8X4CUkpZhLA9bocj6f77aVFCQ8XXMN9bxu0ePYt4rGwvTKbcqnXJGiLTNPNuBcqWtKW9BVoBVL587+Tv3Q8Gv/nDhseOJcsd2xympuJQSvu8LjdE/Aroe2bV5YVNOTs634r7zQxJTCg9VLi7s7LQjdjJd4rsek56A9Fxb+WJut7BRu2ZR+WcAMPia+/Jjsc5H07YzXghhKN+H9KXkjC0PWUYkdqCx6UxdO+OXbEfLQUyfs7awoyMRcR1R4nuCea4H37Ft33XqXdvhtu2MdRzH8BwBJTxJCsvDAatq8vTbt08qHXGm9N9v4Ctt3NeGaM1LQ9o70hWOJ0p8x2OuY8OxHQjXg2u7Ugm/MTPEZ7zWULO1MC/rbNKevYGv9M7mj/H0nCVFJ9rTlalkqthzXKl8vzHI9ejsWVO2Dxt8/g9J998rZktcNWZ67+GlT/T8/xB/0v9Q/wGYos/tITn2XwAAAABJRU5ErkJggg==">
    <style>
        html {overflow-y: scroll;font-size: 16px;} html::-webkit-scrollbar {width: 0.1px;} html::-webkit-scrollbar-thumb {background: transparent;} html:hover::-webkit-scrollbar-thumb {background: #ccc;border-radius: 1px;} ::-webkit-scrollbar {width: 2px;} ::-webkit-scrollbar-thumb {background: transparent;} :hover::-webkit-scrollbar-thumb {background: #8beee9;border-radius: 1px;} * {margin: 0;padding: 0;box-sizing: border-box;} body {font-family: 'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);padding: 10px 20px 30px 20px;min-height: 100vh;color: #e0f7fa;} .container {max-width: 1400px;margin: 0 auto;background: rgba(13,19,33,0.8);border-radius: 15px;box-shadow: 0 10px 30px rgba(0,0,0,0.5);padding: 30px;backdrop-filter: blur(10px);border: 1px solid rgba(64,224,208,0.2);} h1 {text-align: center;color: #4fc3f7;margin-bottom: 30px;font-weight: 300;letter-spacing: 1px;text-shadow: 0 0 10px rgba(79,195,247,0.5);} .main-content {display: flex;gap: 30px;flex-wrap: wrap;} .left-panel {flex: 1;min-width: 300px;} .right-panel {flex: 2;min-width: 400px;} .controls {background: rgba(18,27,45,0.6);border-radius: 10px;padding: 20px;margin-bottom: 20px;border: 1px solid rgba(64,224,208,0.1);} .control-group {margin-bottom: 20px;} .control-group h3 {color: #4fc3f7;margin-bottom: 10px;font-weight: 500;font-size: 16px;} .button-group {display: flex;gap: 10px;flex-wrap: wrap;margin-bottom: 15px;} button {padding: 10px 16px;border: none;border-radius: 30px;background: linear-gradient(45deg,#2196F3,#21CBF3);color: white;cursor: pointer;font-size: 13px;transition: all 0.3s ease;box-shadow: 0 4px 10px rgba(33,150,243,0.3);font-weight: 500;flex: 1;min-width: 80px;} button:hover {transform: translateY(-2px);box-shadow: 0 6px 15px rgba(33,150,243,0.5);} button:disabled {background: linear-gradient(45deg,#616161,#9e9e9e);cursor: not-allowed;transform: none;box-shadow: none;} .rotate-controls {display: flex;align-items: center;gap: 10px;margin-bottom: 10px;} .rotate-slider {flex: 1;height: 6px;border-radius: 3px;background: rgba(255,255,255,0.1);outline: none;-webkit-appearance: none;} .rotate-slider::-webkit-slider-thumb {-webkit-appearance: none;width: 18px;height: 18px;border-radius: 50%;background: #4fc3f7;cursor: pointer;box-shadow: 0 0 10px rgba(79,195,247,0.8);} .rotate-value {min-width: 50px;text-align: center;color: #4fc3f7;font-weight: 500;font-size: 14px;} input[type="file"] {display: none;} .file-label {display: inline-block;padding: 8px 16px;background: linear-gradient(45deg,#00bcd4,#006064);color: white;border-radius: 30px;cursor: pointer;transition: all 0.3s ease;box-shadow: 0 4px 15px rgba(0,188,212,0.3);font-weight: 500;text-align: center;flex: 1;} .file-label:hover {transform: translateY(-2px);box-shadow: 0 6px 20px rgba(0,188,212,0.5);} .canvas-container {background: rgba(18,27,45,0.6);border-radius: 10px;padding: 20px;margin-bottom: 20px;text-align: center;border: 1px solid rgba(64,224,208,0.1);} #main_canvas {border: 1px solid rgba(64,224,208,0.3);cursor: crosshair;max-width: 100%;height: auto;background: rgba(255,255,255,0.05);box-shadow: 0 0 10px rgba(0,0,0,0.3);} .info {background: rgba(33,150,243,0.15);border: 1px solid rgba(33,150,243,0.3);border-radius: 8px;padding: 15px;margin-bottom: 15px;text-align: center;color: #81d4fa;font-weight: 300;} .status {position: fixed;left: 16%;bottom: 20px;text-align: center;padding: 12px;border-radius: 8px;margin-bottom: 20px;font-weight: 500;letter-spacing: 0.5px;} .status.success {background: rgba(46,204,113,0.2);color: #2ecc71;border: 1px solid rgba(46,204,113,0.3);} .status.error {background: rgba(231,76,60,0.2);color: #e74c3c;border: 1px solid rgba(231,76,60,0.3);} .status.info {background: rgba(52,152,219,0.2);color: #3498db;border: 1px solid rgba(52,152,219,0.3);} .download-btn {background: linear-gradient(45deg,#4CAF50,#2E7D32);box-shadow: 0 4px 15px rgba(76,175,80,0.3);} .download-btn:hover {box-shadow: 0 6px 20px rgba(76,175,80,0.5);} .edit-mode {background: rgba(33,150,243,0.15);border: 1px solid rgba(33,150,243,0.3);border-radius: 8px;padding: 10px;margin-bottom: 15px;text-align: center;color: #4fc3f7;font-weight: 500;font-size: 14px;} .rotation-info {background: rgba(255,193,7,0.15);border: 1px solid rgba(255,193,7,0.3);border-radius: 8px;padding: 10px;margin-bottom: 15px;text-align: center;color: #ffd54f;font-size: 13px;} .magnifier {position: absolute;width: 200px;height: 200px;border: 2px solid #00FFFF;border-radius: 50%;box-shadow: 0 0 15px rgba(0,255,255,0.9);background: rgba(0,0,0,0.8);display: none;pointer-events: none;z-index: 1000;transform: translate(-50%,-50%);overflow: hidden;} .magnifier-canvas {width: 100%;height: 100%;} .magnifier-coords {position: absolute;top: 5px;left: 0;right: 0;text-align: center;color: white;font-size: 12px;font-family: Arial,sans-serif;text-shadow: 1px 1px 1px black;z-index: 1001;pointer-events: none;} .point-hover {position: absolute;width: 24px;height: 24px;border: 2px solid rgba(255,255,255,0.7);border-radius: 50%;transform: translate(-50%,-50%);pointer-events: none;z-index: 999;display: none;box-shadow: 0 0 10px rgba(255,255,255,0.5);animation: pulse 1.5s infinite;} @keyframes pulse {0% {transform: translate(-50%,-50%) scale(1);opacity: 0.7;} 50% {transform: translate(-50%,-50%) scale(1.1);opacity: 1;} 100% {transform: translate(-50%,-50%) scale(1);opacity: 0.7;}} @media (max-width: 768px) {.main-content {flex-direction: column;} .left-panel,.right-panel {min-width: 100%;} .button-group {flex-direction: column;} button {width: 100%;}} .rotate-input-container {position: relative;display: inline-block;} .rotate-input-container span {position: absolute;right: 8px;top: 50%;transform: translateY(-50%);color: #4fc3f7;font-weight: 500;} .rotate-value {padding: 6px 20px 6px 8px;border-radius: 6px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;width: 70px;text-align: center;font-weight: 500;} .rotate-value:focus {outline: none;box-shadow: 0 0 0 2px rgba(79,195,247,0.5);} .split-input-container {display: flex;align-items: center;gap: 8px;margin: 8px 0;padding-right: 20px;} .split-input-label {color: #4fc3f7;font-size: 13px;font-weight: 500;} .split-input {width: 50px;padding: 6px 8px;border-radius: 6px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;text-align: center;font-weight: 500;} .split-input:focus {outline: none;box-shadow: 0 0 0 2px rgba(79,195,247,0.5);} .split-input::-webkit-outer-spin-button,.split-input::-webkit-inner-spin-button {-webkit-appearance: none;margin: 0;} .split-input-container button {padding: 6px 10px;border-radius: 6px;border: 1px solid #4fc3f7;background: rgba(33,150,243,0.2);color: #4fc3f7;cursor: pointer;font-size: 12px;transition: all 0.3s ease;min-width: auto;} .split-input-container button:hover {background: rgba(33,150,243,0.4);} .split-input-container button:disabled {background: rgba(97,97,97,0.2);cursor: not-allowed;} #splitPreview {margin-top: 20px;padding: 15px;background: rgba(18,27,45,0.6);border-radius: 10px;border: 1px solid rgba(64,224,208,0.1);} #splitPreview h3 {color: #0333ff;margin-bottom: 15px;} #splitPreview canvas {max-width: 100%;height: auto;display: block;} .filter-info {color: #81d4fa;font-size: 12px;margin-bottom: 10px;text-align: center;} .image-selector {margin-bottom: 15px;text-align: center;} .image-selector select {padding: 6px 10px;border-radius: 6px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;font-size: 13px;width: 180px;} .filter-controls-compact {margin-bottom: 15px;} .filter-row {display: flex;gap: 15px;margin-bottom: 10px;} .filter-item {flex: 1;display: flex;flex-direction: column;align-items: center;gap: 5px;} .filter-label {color: #e0f7fa;font-size: 12px;font-weight: 500;} .filter-slider {width: 80%;height: 6px;border-radius: 3px;background: rgba(255,255,255,0.1);outline: none;-webkit-appearance: none;} .filter-slider::-webkit-slider-thumb {-webkit-appearance: none;width: 14px;height: 14px;border-radius: 50%;background: #4fc3f7;cursor: pointer;} .filter-value {color: #4fc3f7;font-size: 11px;font-weight: 500;min-width: 35px;text-align: center;} .control-group {transition: all 0.3s ease;} .control-group h3 {position: relative;padding-left: 10px;} .control-group h3::before {content: '';position: absolute;left: 0;top: 50%;transform: translateY(-50%);width: 3px;height: 16px;background: #4fc3f7;border-radius: 2px;} .footer {position: fixed;bottom: 0;left: 0;width: 100%;text-align: center;font-size: 12px;color: #888;padding: 5px 0;background: rgba(0,0,0,0.5);transition: 0.3s;opacity: 0;transform: translateY(100%);} .footer.show {opacity: 1;transform: translateY(0);} .print-preview {top: 0;left: 0;width: 100%;height: 100%;z-index: 1000;} .floating-btn {padding: 12px 12px;border: none;border-radius: 0px;background: linear-gradient(45deg,#2196F3,#21CBF3);color: white;cursor: pointer;font-size: 14px;box-shadow: 0 4px 15px rgba(33,150,243,0.4);transition: opacity 0.3s ease,height 0.3s ease;min-width: 0px;width: 100%;height: 3rem;flex: none;} .floating-btn:hover {transform: translateY(-2px);box-shadow: 0 6px 20px rgba(33,150,243,0.6);} .fixed-btn-group {position: fixed;display: flex;flex-direction: column;right: 11rem;bottom: 11rem;gap: 0px;border-radius: 5px;overflow: hidden;width: 5rem;box-shadow: 0 4px 15px rgba(0,0,0,0.1);z-index: 1000;} .floating-btn.hidden {opacity: 0;height: 0;padding: 0;} @media (max-width: 768px) {.floating-back {left: 10px;bottom: 10px;} .floating-print {right: 10px;bottom: 10px;} .floating-btn {padding: 10px 20px;font-size: 13px;}} .print-content {display: flex;gap: 30px;} .print-content::-webkit-scrollbar {width: 6px;} .print-content::-webkit-scrollbar-track {background: rgba(18,27,45,0.6);border-radius: 3px;} .print-content::-webkit-scrollbar-thumb {background: rgba(79,195,247,0.6);border-radius: 3px;} .print-content::-webkit-scrollbar-thumb:hover {background: rgba(79,195,247,0.8);} .paper-preview-section {margin-bottom: 30px;padding: 20px;background: rgba(18,27,45,0.6);border-radius: 10px;border: 1px solid rgba(64,224,208,0.1);} .compact-section-header {display: flex;align-items: center;justify-content: flex-start;gap: 20px;margin-bottom: 15px;} .paper-preview-section {margin-bottom: 20px;padding: 15px;background: rgba(18,27,45,0.6);border-radius: 10px;border: 1px solid rgba(64,224,208,0.1);display: flex;flex-direction: column;flex: 1;overflow: hidden;} .image-selection {margin-bottom: 5px;padding: 0px;background: rgba(18,27,45,0.4);border-radius: 8px;border-bottom: 1px solid rgba(64,224,208,0.1);} .layout-controls {margin-bottom: 20px;padding: 15px;background: rgba(18,27,45,0.6);border-radius: 10px;border: 1px solid rgba(64,224,208,0.1);} @media (max-width: 768px) {.compact-section-header {flex-direction: column;align-items: flex-start;gap: 10px;} .compact-section-header h3,.compact-section-header h4 {white-space: normal;} .paper-preview-section {padding: 12px;margin-bottom: 15px;} .layout-controls {padding: 12px;margin-bottom: 15px;}} .selection-options {display: flex;gap: 25px;flex-wrap: wrap;justify-content: center;} .selection-item {display: flex;align-items: center;gap: 8px;cursor: pointer;color: #e0f7fa;font-size: 14px;padding: 8px 16px;border: 1px solid rgba(79,195,247,0.3);border-radius: 8px;background: rgba(18,27,45,0.4);transition: all 0.3s ease;min-width: 120px;justify-content: center;} .selection-item:hover {background: rgba(79,195,247,0.2);border-color: #4fc3f7;} .selection-item input[type="checkbox"] {width: 16px;height: 16px;accent-color: #4fc3f7;} .paper-previews {display: flex;flex-wrap: wrap;justify-content: center;align-items: center;flex-direction: column;width: 600px;margin: 0 auto;flex: 1;} .paper-preview {border: 2px dashed #4fc3f7;border-bottom: none;background: rgba(255,255,255,0.05);position: relative;display: flex;flex-direction: column;align-items: center;justify-content: center;height: auto;aspect-ratio: 210 / 297;margin: 0 auto;} .paper-preview:last-child {border-bottom: 2px dashed #4fc3f7;} .paper-selector {margin-bottom: 20px;text-align: center;} .paper-buttons {display: flex;flex-wrap: wrap;gap: 8px;justify-content: center;} .paper-btn {padding: 6px 12px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;border-radius: 6px;cursor: pointer;font-size: 13px;transition: all 0.3s ease;min-width: 91px;} .paper-btn:hover {background: rgba(79,195,247,0.3);} .paper-btn.active {background: #4fc3f7;color: #0f2027;font-weight: 500;} .layout-controls {background: rgba(18,27,45,0.6);border-radius: 10px;padding: 15px;margin-bottom: 20px;border: 1px solid rgba(64,224,208,0.1);} .layout-controls h4 {color: #4fc3f7;margin-bottom: 12px;font-weight: 500;font-size: 14px;} .layout-buttons {display: flex;gap: 8px;flex-wrap: wrap;margin-bottom: 15px;} .layout-btn {padding: 6px 12px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;border-radius: 6px;cursor: pointer;font-size: 12px;transition: all 0.3s ease;min-width: 60px;} .layout-btn:hover {background: rgba(79,195,247,0.3);} .layout-btn.active {background: #4fc3f7;color: #0f2027;font-weight: 500;} .layout-settings {display: flex;flex-wrap: wrap;gap: 15px;align-items: center;} .setting-item {display: flex;align-items: center;gap: 8px;color: #e0f7fa;font-size: 12px;} .setting-item label {white-space: nowrap;} .setting-item input[type="range"] {width: 80px;height: 6px;border-radius: 3px;background: rgba(255,255,255,0.1);outline: none;-webkit-appearance: none;} .setting-item input[type="range"]::-webkit-slider-thumb {-webkit-appearance: none;width: 14px;height: 14px;border-radius: 50%;background: #4fc3f7;cursor: pointer;} .setting-item input[type="checkbox"] {width: 14px;height: 14px;accent-color: #4fc3f7;} .setting-row {display: flex;gap: 15px;align-items: center;} .grid-settings {margin-bottom: 10px;padding: 10px;background: rgba(18,27,45,0.4);border-radius: 6px;border: 1px solid rgba(64,224,208,0.1);} .setting-item select {padding: 4px 6px;border-radius: 4px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;font-size: 12px;width: 120px;} .orientation-btn {padding: 6px 12px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;border-radius: 6px;cursor: pointer;font-size: 12px;transition: all 0.3s ease;min-width: 60px;margin: 0 4px;} .orientation-btn:hover {background: rgba(79,195,247,0.3);} .orientation-btn.active {background: #4fc3f7;color: #0f2027;font-weight: 500;} .setting-item input[type="number"] {padding: 4px 6px;border-radius: 4px;border: 1px solid #4fc3f7;background: rgba(18,27,45,0.6);color: #e0f7fa;font-size: 12px;text-align: center;} .paper-label {position: absolute;top: 10px;left: 10px;background: rgba(79,195,247,0.8);color: white;padding: 4px 8px;border-radius: 4px;font-size: 12px;font-weight: 500;} .preview-images-container {width: 100%;height: 100%;overflow-y: auto;display: flex;flex-direction: column;box-sizing: border-box;} .preview-images-container::-webkit-scrollbar {width: 4px;} .preview-images-container::-webkit-scrollbar-track {background: rgba(18,27,45,0.6);border-radius: 2px;} .preview-images-container::-webkit-scrollbar-thumb {background: rgba(79,195,247,0.6);border-radius: 2px;} .preview-image-item {width: 100%;text-align: center;background: rgba(255,255,255,0.05);box-sizing: border-box;flex-shrink: 0;} .preview-image-item img {max-width: 100%;max-height: 100%;object-fit: contain;width: auto;height: auto;} .main-page {transition: transform 0.3s ease-in-out;z-index: 1;} .page.active {transform: translateX(0);z-index: 10;} .page:not(.active) {transform: translateX(100%);} #print-main {max-width: 100% !important;} .current-edit-filter {box-shadow: 0 0px 16px 10px rgb(255 255 255) !important;border: 1px solid rgba(64,224,208,0.3);z-index: 10;transition: transform 0.3s ease,box-shadow 0.3s ease,border-color 0.3s ease;} @media print {.paper-label,body > *:not(#print-main) {display: none !important;} body {background: none !important;padding: 0 !important;color: none !important;} .paper-preview {page-break-inside: avoid;border: none !important;} .paper-preview:not(:first-child) {page-break-before: always;} .paper-preview:not(:last-child) {page-break-after: always;} .empty-cell {border: none !important;} @page {margin: 0;padding: 0;} @page :first {size: auto;margin: 0;} @page landscape {size: auto landscape;}} @media (max-width: 576px) {.paper-previews {width: 200px;}} @media (max-width: 768px) {.paper-previews {width: 300px;}} @media (max-width: 992px) {.paper-previews {width: 500px;}} @media (max-width: 1200px) {.paper-previews {width: 600px;}}
        .controls {background: rgba(18, 27, 45, 0.6);border-radius: 10px;padding: 20px;margin-bottom: 20px;border: 1px solid rgba(64, 224, 208, 0.1);}
    </style>
</head>
<body>
    <div class="container">
        <!-- <h1>图片编辑打印</h1> -->

        <div id="editPreview" class="main-content page active">
            <div class="left-panel">
                <div class="controls">
                    <div class="control-group">
                        <h3>通用设置</h3>
                        <div class="button-group">
                            <label for="fileInput" class="file-label">选择图片</label>
                            <input type="file" id="fileInput" accept="image/*">
                            <button id="downloadBtn" class="download-btn" disabled hover="">下载所有图片</button>
                        </div>
                        <div class="button-group">
                            <button id="undoBtn" disabled>撤销</button>
                            <button id="redoBtn" disabled>重做</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>旋转</h3>
                        <div class="rotate-controls">
                            <span>角度:</span>
                            <input type="range" id="rotateSlider" class="rotate-slider"
                                   min="-180" max="180" value="0" step="1">
                            <div class="rotate-input-container">
                                <input type="number" id="rotateInput" class="rotate-value"
                                       min="-180" max="180" value="0" step="1">
                                <span>°</span>
                            </div>
                        </div>
                        <div class="button-group">
                            <button id="rotateLeftBtn">左转90°</button>
                            <button id="rotateRightBtn">右转90°</button>
                            <button id="resetRotateBtn">重置旋转</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>矫正</h3>

                        <div class="button-group">
                            <button id="cropSwitchBtn">点击开始矫正</button>
                            <button id="cropBtn" disabled>矫正</button>
                            <button id="cleanPointsBtn" disabled>清除选择区域</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>切割</h3>
                        <div class="button-group">
                            <button id="splitSwitchBtn">点击开始切割</button>
                            <button id="splitImageBtn" disabled>切割</button>
                            <button id="clearSplitBtn" disabled>清除切线</button>
                            <div class="split-input-container">
                                <span class="split-input-label">横向:</span>
                                <input type="number" id="horizontalLines" class="split-input" min="0" max="4" value="0">
                                <button id="decreaseH" disabled>-</button>
                                <button id="increaseH" disabled>+</button>
                            </div>
                            <div class="split-input-container">
                                <span class="split-input-label">纵向:</span>
                                <input type="number" id="verticalLines" class="split-input" min="0" max="4" value="0">
                                <button id="decreaseV" disabled>-</button>
                                <button id="increaseV" disabled>+</button>
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>滤镜调整</h3>
                        <div class="image-selector">
                            <select id="filterImageSelector">
                                <option value="main_canvas">编辑主图</option>
                            </select>
                        </div>
                        <div class="filter-controls-compact">
                            <div class="filter-row">
                                <div class="filter-item">
                                    <span class="filter-label">亮度</span>
                                    <input type="range" id="brightness" class="filter-slider" min="0" max="200" value="100">
                                    <span class="filter-value" id="brightness-value">100%</span>
                                </div>
                                <div class="filter-item">
                                    <span class="filter-label">对比度</span>
                                    <input type="range" id="contrast" class="filter-slider" min="0" max="200" value="100">
                                    <span class="filter-value" id="contrast-value">100%</span>
                                </div>
                            </div>
                            <div class="filter-row">
                                <div class="filter-item">
                                    <span class="filter-label">饱和度</span>
                                    <input type="range" id="saturate" class="filter-slider" min="0" max="200" value="100">
                                    <span class="filter-value" id="saturate-value">100%</span>
                                </div>
                                <div class="filter-item">
                                    <span class="filter-label">灰度</span>
                                    <input type="range" id="grayscale" class="filter-slider" min="0" max="100" value="0">
                                    <span class="filter-value" id="grayscale-value">0%</span>
                                </div>
                            </div>
                        </div>
                        <div class="button-group">
                            <button id="applyToAllBtn">应用到所有图片</button>
                            <button id="resetFiltersBtn">重置滤镜</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-panel">
                <div class="canvas-container">
                    <canvas id="main_canvas"></canvas>
                </div>
            </div>
        </div>
        <!-- 打印预览容器 - 与主编辑页同级 -->
        <div id="printPreview" class="print-preview page" style="display: none;">
            <div class="print-content">
                <div class="left-panel">
                    <div class="controls">
                        <div class="control-group">
                            <h3>选择图片</h3>
                            <div class="compact-section-header">
                                <div class="selection-options">
                                    <label class="selection-item">
                                        <input type="checkbox" id="printEdited" >
                                        <span>编辑后的图片</span>
                                    </label>
                                    <label class="selection-item">
                                        <input type="checkbox" id="printSplit" checked>
                                        <span>切割后的图片</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <h3>纸张预览</h3>
                            <div class="paper-buttons">
                                <button class="paper-btn active" data-paper="A4">A4</button>
                                <button class="paper-btn" data-paper="A3">A3</button>
                                <button class="paper-btn" data-paper="A5">A5</button>
                                <button class="paper-btn" data-paper="B4">B4</button>
                                <button class="paper-btn" data-paper="B5">B5</button>
                                <button class="paper-btn" data-paper="Letter">信纸</button>
                                <button class="paper-btn" data-paper="Legal">法律专用纸</button>
                                <button class="paper-btn" data-paper="Tabloid">Tabloid</button>
                                <button class="paper-btn" data-paper="Statement">Statement</button>
                                <button class="paper-btn" data-paper="Executive">Executive</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <h3>纸张方向</h3>
                            <div class="setting-row">
                                <div class="setting-item">
                                    <label>纸张方向:</label>
                                    <button class="orientation-btn active" data-orientation="portrait">纵向</button>
                                    <button class="orientation-btn" data-orientation="landscape">横向</button>
                                </div>
                            </div>
                        </div>

                        <!-- 排版控制区域 -->
                        <div class="control-group">
                            <h3>排版设置</h3>
                            <div class="compact-section-header">
                                <div class="layout-buttons">
                                    <button class="layout-btn active" data-layout="single">一图一纸</button>
                                    <button class="layout-btn" data-layout="grid">网格布局</button>
                                    <button class="layout-btn" data-layout="vertical">纵向排列</button>
                                    <button class="layout-btn" data-layout="horizontal">横向排列</button>
                                </div>
                            </div>

                            <!-- 网格布局设置 -->
                            <div class="grid-settings" id="gridSettings" style="display: none;">
                                <div class="setting-row">
                                    <div class="setting-item">
                                        <label>横向数量:</label>
                                        <input type="number" id="gridCols" min="1" max="8" value="2" style="width: 50px;">
                                    </div>
                                    <div class="setting-item">
                                        <label>纵向数量:</label>
                                        <input type="number" id="gridRows" min="1" max="8" value="2" style="width: 50px;">
                                    </div>
                                </div>
                            </div>

                            <div class="layout-settings">
                                <div class="setting-item">
                                    <label>图片间距:</label>
                                    <input type="range" id="spacingSlider" min="0" max="100" value="0">
                                    <span id="spacingValue">0px</span>
                                </div>
                                <div class="setting-item">
                                    <label>纸张边距:</label>
                                    <input type="range" id="marginSlider" min="0" max="100" value="0">
                                    <span id="marginValue">0px</span>
                                </div>
                                <div class="setting-row">
                                    <div class="setting-item">
                                        <label>水平对齐:</label>
                                        <select id="horizontalAlign">
                                            <option value="center">居中</option>
                                            <option value="top">顶部</option>
                                            <option value="bottom">底部</option>
                                            <option value="left">左边</option>
                                            <option value="right">右边</option>
                                        </select>
                                    </div>
                                    <div class="setting-item">
                                        <label>缩放模式:</label>
                                        <select id="scaleMode">
                                            <option value="contain">等比缩放</option>
                                            <option value="fill">拉伸占满</option>
                                            <option value="scale-down">原始尺寸</option>
                                            <!-- <option value="cover">缩放覆盖</option> -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="right-panel">
                    <div class="paper-preview-section">
                        <div class="paper-previews" id="paperPreviewsContainer">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="fixed-btn-group">
        <button id="backToTopBtn" class="floating-btn">↑顶部</button>
        <button id="editStartPrintBtn" class="floating-btn floating-print">打印预览</button>
        <button id="backToEditBtn" class="floating-btn floating-back">← 编辑</button>
        <button id="previewStartPrintBtn" class="floating-btn floating-print">打印</button>
    </div>
    <div id="status" class="status info" style="display: none;"></div>
    

    <!-- 局部放大镜 -->
    <div id="magnifier" class="magnifier">
        <div id="magnifierCoords" class="magnifier-coords"></div>
        <canvas id="magnifierCanvas" class="magnifier-canvas"></canvas>
    </div>
    
    <!-- 控制点悬停效果 -->
    <div id="pointHover" class="point-hover"></div>
    <div class="footer" id="footer">
        Copyright © 2025 fluidcat. Licensed under LGPL v3.
    </div>
    
    <script>
        function _0x57cc(_0x2e07d2,_0x422c41){const _0x170f32=_0x170f();return _0x57cc=function(_0x57cca3,_0x3cd958){_0x57cca3=_0x57cca3-0x193;let _0x14eadc=_0x170f32[_0x57cca3];return _0x14eadc;},_0x57cc(_0x2e07d2,_0x422c41);}const _0x552347=_0x57cc;(function(_0x335027,_0x335e56){const _0x1e35ec=_0x57cc,_0x2af840=_0x335027();while(!![]){try{const _0x4a2222=parseInt(_0x1e35ec(0x229))/0x1+parseInt(_0x1e35ec(0x30c))/0x2*(-parseInt(_0x1e35ec(0x2b1))/0x3)+parseInt(_0x1e35ec(0x1d3))/0x4+parseInt(_0x1e35ec(0x251))/0x5*(-parseInt(_0x1e35ec(0x29a))/0x6)+parseInt(_0x1e35ec(0x294))/0x7*(parseInt(_0x1e35ec(0x30d))/0x8)+parseInt(_0x1e35ec(0x276))/0x9+-parseInt(_0x1e35ec(0x2bf))/0xa;if(_0x4a2222===_0x335e56)break;else _0x2af840['push'](_0x2af840['shift']());}catch(_0x529c34){_0x2af840['push'](_0x2af840['shift']());}}}(_0x170f,0xe64ea));class AdvancedImageCropper{constructor(){const _0x4a1617=_0x57cc;this[_0x4a1617(0x212)]=document['getElementById'](_0x4a1617(0x2fd)),this[_0x4a1617(0x1aa)]=this[_0x4a1617(0x212)][_0x4a1617(0x1c5)]('2d'),this[_0x4a1617(0x215)]=null,this[_0x4a1617(0x247)]=null,this[_0x4a1617(0x2b3)]=[],this[_0x4a1617(0x2ac)]=[],this['historyIndex']=-0x1,this['magnifier']=document['getElementById'](_0x4a1617(0x315)),this[_0x4a1617(0x2eb)]=document[_0x4a1617(0x1d9)](_0x4a1617(0x1be))[_0x4a1617(0x1c5)]('2d'),this[_0x4a1617(0x20e)]=document[_0x4a1617(0x1d9)]('pointHover'),this[_0x4a1617(0x275)]=![],this['dragPointIndex']=-0x1,this[_0x4a1617(0x2f8)]=![],this[_0x4a1617(0x270)]=-0x1,this[_0x4a1617(0x27e)]=0x0,this[_0x4a1617(0x22e)]=0x0,this[_0x4a1617(0x21d)]=[],this['verticalLines']=[],this[_0x4a1617(0x1d4)]=![],this[_0x4a1617(0x1e7)]=null,this[_0x4a1617(0x236)]=-0x1,this[_0x4a1617(0x2c2)]=null,this[_0x4a1617(0x248)]={'main_canvas':{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0}},this[_0x4a1617(0x23b)]=_0x4a1617(0x2fd),this[_0x4a1617(0x1c9)]={},this[_0x4a1617(0x1dd)]=document[_0x4a1617(0x1d9)](_0x4a1617(0x1dd)),this[_0x4a1617(0x198)]=document[_0x4a1617(0x1d9)](_0x4a1617(0x198)),this[_0x4a1617(0x31e)]={},this[_0x4a1617(0x2cb)]=[],this[_0x4a1617(0x2e3)]=null,this[_0x4a1617(0x310)]=_0x4a1617(0x1ab),this[_0x4a1617(0x301)]='A4',this[_0x4a1617(0x26b)]=0x0,this['margin']=0x0,this[_0x4a1617(0x1a1)]=0x2,this[_0x4a1617(0x2c9)]=0x2,this['horizontalAlign']='center',this[_0x4a1617(0x204)]=_0x4a1617(0x1f6),this['orientationMode']=_0x4a1617(0x306),this[_0x4a1617(0x205)](),this['setupCanvasSize'](),this[_0x4a1617(0x206)]();}[_0x552347(0x205)](){const _0x5f4231=_0x552347;document[_0x5f4231(0x1d9)](_0x5f4231(0x1b8))[_0x5f4231(0x26e)](_0x5f4231(0x2e8),_0x38330d=>this[_0x5f4231(0x2fe)](_0x38330d)),document[_0x5f4231(0x1d9)](_0x5f4231(0x20c))['addEventListener']('click',()=>this[_0x5f4231(0x2f3)]()),document['getElementById'](_0x5f4231(0x227))[_0x5f4231(0x26e)]('click',()=>this[_0x5f4231(0x263)]()),document['getElementById'](_0x5f4231(0x1db))[_0x5f4231(0x26e)]('click',()=>this['redo']()),document[_0x5f4231(0x1d9)](_0x5f4231(0x1d0))[_0x5f4231(0x26e)]('click',()=>this[_0x5f4231(0x1e3)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x2d6))['addEventListener']('click',()=>this['downloadResult']()),document[_0x5f4231(0x1d9)]('horizontalLines')[_0x5f4231(0x26e)](_0x5f4231(0x1fa),()=>this[_0x5f4231(0x20a)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x1c2))[_0x5f4231(0x26e)]('input',()=>this['updateSplitControls']()),document[_0x5f4231(0x1d9)](_0x5f4231(0x195))['addEventListener']('click',()=>this[_0x5f4231(0x24c)](_0x5f4231(0x307))),document[_0x5f4231(0x1d9)](_0x5f4231(0x2a8))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x2d5)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x1eb))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x1d2)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x314))[_0x5f4231(0x26e)]('click',()=>this[_0x5f4231(0x1cc)]()),document['getElementById'](_0x5f4231(0x2ae))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x1d7)]()),document['getElementById'](_0x5f4231(0x203))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x290)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x2c7))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x2dc)]()),document['getElementById'](_0x5f4231(0x279))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this['toggleSplitMode']()),document[_0x5f4231(0x1d9)](_0x5f4231(0x22c))[_0x5f4231(0x26e)](_0x5f4231(0x2e8),_0x17a84c=>this[_0x5f4231(0x2c6)](_0x17a84c[_0x5f4231(0x320)][_0x5f4231(0x317)]));const _0x4d46bf=throttle((_0x2c8b0b,_0x36a8a8)=>this[_0x5f4231(0x293)](_0x2c8b0b,_0x36a8a8),0xc8);document[_0x5f4231(0x1d9)](_0x5f4231(0x2a5))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x5383c6=>_0x4d46bf('brightness',_0x5383c6[_0x5f4231(0x320)][_0x5f4231(0x317)])),document[_0x5f4231(0x1d9)](_0x5f4231(0x272))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x5caa87=>_0x4d46bf(_0x5f4231(0x272),_0x5caa87[_0x5f4231(0x320)][_0x5f4231(0x317)])),document[_0x5f4231(0x1d9)]('saturate')[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x2e0858=>_0x4d46bf(_0x5f4231(0x2b0),_0x2e0858[_0x5f4231(0x320)]['value'])),document[_0x5f4231(0x1d9)]('grayscale')[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x98185c=>_0x4d46bf(_0x5f4231(0x2cd),_0x98185c[_0x5f4231(0x320)][_0x5f4231(0x317)])),document['getElementById']('applyToAllBtn')[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x2fc)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x1c3))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x2c4)]()),document[_0x5f4231(0x1d9)]('backToEditBtn')['addEventListener'](_0x5f4231(0x228),()=>this[_0x5f4231(0x1fc)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x255))[_0x5f4231(0x26e)]('click',()=>this[_0x5f4231(0x216)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x1e9))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x19c)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x23d))[_0x5f4231(0x26e)]('click',()=>window[_0x5f4231(0x278)]({'top':0x0,'behavior':_0x5f4231(0x1fe)})),document['querySelectorAll'](_0x5f4231(0x1f3))[_0x5f4231(0x2aa)](_0x3a2862=>{const _0x1b6c87=_0x5f4231;_0x3a2862[_0x1b6c87(0x26e)](_0x1b6c87(0x228),_0x2b33f4=>{const _0x40b323=_0x1b6c87,_0x3657d5=_0x2b33f4[_0x40b323(0x320)][_0x40b323(0x222)]['paper'];this[_0x40b323(0x301)]=_0x3657d5,document[_0x40b323(0x308)](_0x40b323(0x1f3))['forEach'](_0x5f58f2=>_0x5f58f2['classList']['remove'](_0x40b323(0x22a))),_0x2b33f4['target'][_0x40b323(0x24d)]['add'](_0x40b323(0x22a)),this[_0x40b323(0x1b3)]();});}),document[_0x5f4231(0x1d9)](_0x5f4231(0x21c))[_0x5f4231(0x26e)](_0x5f4231(0x2e8),()=>this[_0x5f4231(0x1ec)]()),document[_0x5f4231(0x1d9)](_0x5f4231(0x2e2))[_0x5f4231(0x26e)](_0x5f4231(0x2e8),()=>this[_0x5f4231(0x1ec)]()),document[_0x5f4231(0x308)](_0x5f4231(0x298))['forEach'](_0x17068f=>{const _0x2c7fbf=_0x5f4231;_0x17068f[_0x2c7fbf(0x26e)](_0x2c7fbf(0x228),_0x35d873=>{const _0x302710=_0x2c7fbf,_0xd9c3e0=_0x35d873[_0x302710(0x320)][_0x302710(0x222)]['layout'];document['querySelectorAll'](_0x302710(0x298))[_0x302710(0x2aa)](_0x5f57a3=>_0x5f57a3[_0x302710(0x24d)][_0x302710(0x2a3)](_0x302710(0x22a))),_0x35d873[_0x302710(0x320)]['classList'][_0x302710(0x30b)]('active'),this[_0x302710(0x310)]=_0xd9c3e0;const _0x2f4f77=document[_0x302710(0x1d9)](_0x302710(0x26f));_0x2f4f77[_0x302710(0x316)][_0x302710(0x2f0)]=_0xd9c3e0==='grid'?_0x302710(0x240):'none',this['updatePaperPreview']();});}),document[_0x5f4231(0x1d9)](_0x5f4231(0x208))['addEventListener'](_0x5f4231(0x1fa),_0xb25794=>{const _0x4b71d3=_0x5f4231;this[_0x4b71d3(0x26b)]=parseInt(_0xb25794[_0x4b71d3(0x320)]['value']),document['getElementById'](_0x4b71d3(0x239))[_0x4b71d3(0x1a8)]=this[_0x4b71d3(0x26b)]+'px',this[_0x4b71d3(0x1b3)]();}),document['getElementById'](_0x5f4231(0x23e))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x1c0cab=>{const _0x3ed4c1=_0x5f4231;this[_0x3ed4c1(0x1b1)]=parseInt(_0x1c0cab[_0x3ed4c1(0x320)][_0x3ed4c1(0x317)]),document[_0x3ed4c1(0x1d9)](_0x3ed4c1(0x280))[_0x3ed4c1(0x1a8)]=this[_0x3ed4c1(0x1b1)]+'px',this['updatePaperPreview']();}),document[_0x5f4231(0x1d9)](_0x5f4231(0x1a1))['addEventListener'](_0x5f4231(0x1fa),_0x3e6a95=>{const _0x2e2c70=_0x5f4231;this[_0x2e2c70(0x1a1)]=parseInt(_0x3e6a95[_0x2e2c70(0x320)]['value'])||0x1,this[_0x2e2c70(0x1b3)]();}),document[_0x5f4231(0x1d9)](_0x5f4231(0x2c9))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x3240ce=>{const _0x423387=_0x5f4231;this[_0x423387(0x2c9)]=parseInt(_0x3240ce[_0x423387(0x320)][_0x423387(0x317)])||0x1,this['updatePaperPreview']();}),document[_0x5f4231(0x1d9)](_0x5f4231(0x2dd))['addEventListener']('change',_0x4062e1=>{const _0x50655a=_0x5f4231;this[_0x50655a(0x2dd)]=_0x4062e1['target'][_0x50655a(0x317)],this[_0x50655a(0x1b3)]();}),document['getElementById']('scaleMode')[_0x5f4231(0x26e)](_0x5f4231(0x2e8),_0x5d0c96=>{const _0x2b1886=_0x5f4231;this[_0x2b1886(0x204)]=_0x5d0c96[_0x2b1886(0x320)]['value'],this[_0x2b1886(0x1b3)]();}),document['querySelectorAll'](_0x5f4231(0x238))['forEach'](_0x450731=>{_0x450731['addEventListener']('click',_0x1bd09=>{const _0x345e4d=_0x57cc;document[_0x345e4d(0x308)](_0x345e4d(0x238))['forEach'](_0x3e2a34=>_0x3e2a34[_0x345e4d(0x24d)][_0x345e4d(0x2a3)]('active')),_0x1bd09[_0x345e4d(0x320)][_0x345e4d(0x24d)][_0x345e4d(0x30b)](_0x345e4d(0x22a)),this[_0x345e4d(0x1ba)]=_0x1bd09[_0x345e4d(0x320)]['dataset'][_0x345e4d(0x1c0)],this[_0x345e4d(0x1b3)]();});}),document[_0x5f4231(0x1d9)](_0x5f4231(0x2ea))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x4aeb0a=>this['handleRotation'](_0x4aeb0a[_0x5f4231(0x320)][_0x5f4231(0x317)])),document[_0x5f4231(0x1d9)](_0x5f4231(0x200))[_0x5f4231(0x26e)](_0x5f4231(0x1fa),_0x4693db=>this['handleRotation'](_0x4693db[_0x5f4231(0x320)]['value'])),document[_0x5f4231(0x1d9)](_0x5f4231(0x200))[_0x5f4231(0x26e)](_0x5f4231(0x2be),_0x10dd10=>this[_0x5f4231(0x1a3)](_0x10dd10)),document[_0x5f4231(0x1d9)](_0x5f4231(0x1c8))[_0x5f4231(0x26e)]('click',()=>this['rotateByAmount'](-0x5a)),document[_0x5f4231(0x1d9)]('rotateRightBtn')[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this[_0x5f4231(0x27a)](0x5a)),document[_0x5f4231(0x1d9)](_0x5f4231(0x2e6))[_0x5f4231(0x26e)](_0x5f4231(0x228),()=>this['resetRotation']()),this[_0x5f4231(0x212)][_0x5f4231(0x26e)](_0x5f4231(0x228),_0x4aabb7=>this['handleCanvasClick'](_0x4aabb7)),this[_0x5f4231(0x212)][_0x5f4231(0x26e)](_0x5f4231(0x237),_0x4368ac=>this['handleMouseDown'](_0x4368ac)),document[_0x5f4231(0x26e)]('mousemove',_0x53d4e0=>this[_0x5f4231(0x242)](_0x53d4e0)),document['addEventListener']('mouseup',_0x5a6905=>this['handleMouseUp'](_0x5a6905)),this[_0x5f4231(0x212)][_0x5f4231(0x26e)](_0x5f4231(0x24b),_0x4fd66c=>this[_0x5f4231(0x1ca)](_0x4fd66c)),this[_0x5f4231(0x212)][_0x5f4231(0x26e)]('touchmove',_0x56c11b=>this['handleTouchMove'](_0x56c11b)),this[_0x5f4231(0x212)][_0x5f4231(0x26e)](_0x5f4231(0x1ae),_0x41a80a=>this[_0x5f4231(0x264)](_0x41a80a)),this[_0x5f4231(0x212)][_0x5f4231(0x26e)](_0x5f4231(0x2fb),_0x26c273=>this[_0x5f4231(0x264)](_0x26c273)),window['addEventListener'](_0x5f4231(0x311),()=>{const _0x371538=_0x5f4231;this[_0x371538(0x266)](),this[_0x371538(0x1dd)][_0x371538(0x316)]['display']===_0x371538(0x240)&&this['updatePaperPreview']();});}[_0x552347(0x20a)](){const _0x521c0d=_0x552347;if(!this[_0x521c0d(0x215)])return;const _0x452703=parseInt(document[_0x521c0d(0x1d9)](_0x521c0d(0x21d))['value'])||0x0,_0x44f85f=parseInt(document['getElementById']('verticalLines')[_0x521c0d(0x317)])||0x0;_0x452703>0x4&&(document[_0x521c0d(0x1d9)](_0x521c0d(0x21d))[_0x521c0d(0x317)]=0x4),_0x44f85f>0x4&&(document[_0x521c0d(0x1d9)]('verticalLines')[_0x521c0d(0x317)]=0x4),this['updateSplitButtons'](),this['applySplitLines']();}['applySplitLines'](){const _0x3c48a0=_0x552347;if(!this[_0x3c48a0(0x215)])return;const _0x3a88ef=parseInt(document['getElementById'](_0x3c48a0(0x21d))['value'])||0x0,_0x52a393=parseInt(document[_0x3c48a0(0x1d9)](_0x3c48a0(0x1c2))[_0x3c48a0(0x317)])||0x0,_0x8fbb12=Math[_0x3c48a0(0x1a6)](_0x3a88ef,0x4),_0x172528=Math[_0x3c48a0(0x1a6)](_0x52a393,0x4);this[_0x3c48a0(0x21d)]=[],this[_0x3c48a0(0x1c2)]=[];if(_0x8fbb12>0x0){const _0x2d0d38=this[_0x3c48a0(0x215)][_0x3c48a0(0x2ee)]/(_0x8fbb12+0x1);for(let _0x14b7a3=0x1;_0x14b7a3<=_0x8fbb12;_0x14b7a3++){this[_0x3c48a0(0x21d)][_0x3c48a0(0x2c0)](_0x14b7a3*_0x2d0d38);}}if(_0x172528>0x0){const _0xfd966c=this['currentCanvas'][_0x3c48a0(0x1bd)]/(_0x172528+0x1);for(let _0x5057f0=0x1;_0x5057f0<=_0x172528;_0x5057f0++){this['verticalLines'][_0x3c48a0(0x2c0)](_0x5057f0*_0xfd966c);}}this[_0x3c48a0(0x24f)](),document[_0x3c48a0(0x1d9)](_0x3c48a0(0x195))[_0x3c48a0(0x1b6)]=_0x8fbb12===0x0&&_0x172528===0x0,document[_0x3c48a0(0x1d9)]('clearSplitBtn')[_0x3c48a0(0x1b6)]=_0x8fbb12===0x0&&_0x172528===0x0;}[_0x552347(0x2d5)](){const _0x30567d=_0x552347;this[_0x30567d(0x21d)]=[],this[_0x30567d(0x1c2)]=[],document['getElementById'](_0x30567d(0x21d))[_0x30567d(0x317)]=0x0,document[_0x30567d(0x1d9)]('verticalLines')[_0x30567d(0x317)]=0x0,document[_0x30567d(0x1d9)]('splitImageBtn')[_0x30567d(0x1b6)]=!![],document[_0x30567d(0x1d9)](_0x30567d(0x2a8))[_0x30567d(0x1b6)]=!![],this[_0x30567d(0x244)](),this[_0x30567d(0x24f)]();}[_0x552347(0x1d2)](){const _0x487a2f=_0x552347;if(this['currentMode']!==_0x487a2f(0x309)){document[_0x487a2f(0x1d9)](_0x487a2f(0x21d))['value']=0x0;return;}const _0x27e92e=parseInt(document[_0x487a2f(0x1d9)](_0x487a2f(0x21d))['value'])||0x0;_0x27e92e>0x0&&(document['getElementById']('horizontalLines')[_0x487a2f(0x317)]=_0x27e92e-0x1,this[_0x487a2f(0x20a)]());}['increaseHorizontalLines'](){const _0x59c2f4=_0x552347;if(this[_0x59c2f4(0x2c2)]!=='split'){document[_0x59c2f4(0x1d9)](_0x59c2f4(0x21d))[_0x59c2f4(0x317)]=0x0;return;}const _0x549b8c=parseInt(document[_0x59c2f4(0x1d9)]('horizontalLines')[_0x59c2f4(0x317)])||0x0;_0x549b8c<0x4&&(document[_0x59c2f4(0x1d9)](_0x59c2f4(0x21d))[_0x59c2f4(0x317)]=_0x549b8c+0x1,this[_0x59c2f4(0x20a)]());}['decreaseVerticalLines'](){const _0x3db01a=_0x552347;if(this[_0x3db01a(0x2c2)]!==_0x3db01a(0x309)){document[_0x3db01a(0x1d9)](_0x3db01a(0x1c2))[_0x3db01a(0x317)]=0x0;return;}const _0x41afe3=parseInt(document[_0x3db01a(0x1d9)](_0x3db01a(0x1c2))[_0x3db01a(0x317)])||0x0;_0x41afe3>0x0&&(document[_0x3db01a(0x1d9)]('verticalLines')[_0x3db01a(0x317)]=_0x41afe3-0x1,this[_0x3db01a(0x20a)]());}[_0x552347(0x290)](){const _0x4afb59=_0x552347;if(this[_0x4afb59(0x2c2)]!==_0x4afb59(0x309)){document[_0x4afb59(0x1d9)](_0x4afb59(0x1c2))[_0x4afb59(0x317)]=0x0;return;}const _0x21e6c0=parseInt(document[_0x4afb59(0x1d9)](_0x4afb59(0x1c2))[_0x4afb59(0x317)])||0x0;_0x21e6c0<0x4&&(document[_0x4afb59(0x1d9)](_0x4afb59(0x1c2))[_0x4afb59(0x317)]=_0x21e6c0+0x1,this[_0x4afb59(0x20a)]());}[_0x552347(0x244)](){const _0x41e99d=_0x552347,_0x5b4f0f=parseInt(document[_0x41e99d(0x1d9)](_0x41e99d(0x21d))[_0x41e99d(0x317)])||0x0,_0x237bfd=parseInt(document['getElementById'](_0x41e99d(0x1c2))[_0x41e99d(0x317)])||0x0;document[_0x41e99d(0x1d9)](_0x41e99d(0x1eb))[_0x41e99d(0x1b6)]=_0x5b4f0f<=0x0,document[_0x41e99d(0x1d9)](_0x41e99d(0x314))[_0x41e99d(0x1b6)]=_0x5b4f0f>=0x4,document[_0x41e99d(0x1d9)](_0x41e99d(0x2ae))[_0x41e99d(0x1b6)]=_0x237bfd<=0x0,document[_0x41e99d(0x1d9)](_0x41e99d(0x203))[_0x41e99d(0x1b6)]=_0x237bfd>=0x4,document['getElementById']('clearSplitBtn')[_0x41e99d(0x1b6)]=_0x5b4f0f===0x0&&_0x237bfd===0x0;}[_0x552347(0x2dc)](){const _0x58983b=_0x552347;this[_0x58983b(0x2c2)]==='crop'?(this[_0x58983b(0x2c2)]=null,this[_0x58983b(0x2f3)](),document[_0x58983b(0x1d9)](_0x58983b(0x2c7))['textContent']=_0x58983b(0x26a),document['getElementById'](_0x58983b(0x279))['disabled']=![]):(this[_0x58983b(0x2c2)]=_0x58983b(0x233),this[_0x58983b(0x2d5)](),document[_0x58983b(0x1d9)](_0x58983b(0x2c7))[_0x58983b(0x1a8)]=_0x58983b(0x304),document[_0x58983b(0x1d9)]('splitSwitchBtn')[_0x58983b(0x1b6)]=!![],this['setDefaultCorpArea']()),this[_0x58983b(0x24f)]();}['toggleSplitMode'](){const _0x39a3ff=_0x552347;if(this[_0x39a3ff(0x2c2)]==='split'){this[_0x39a3ff(0x2c2)]=null,this[_0x39a3ff(0x2d5)](),document[_0x39a3ff(0x1d9)](_0x39a3ff(0x279))[_0x39a3ff(0x1a8)]=_0x39a3ff(0x24e),document[_0x39a3ff(0x1d9)](_0x39a3ff(0x2c7))[_0x39a3ff(0x1b6)]=![];let _0x241c0c=document[_0x39a3ff(0x1d9)](_0x39a3ff(0x29c));_0x241c0c&&(_0x241c0c[_0x39a3ff(0x232)][_0x39a3ff(0x25f)](_0x241c0c),this[_0x39a3ff(0x28e)]());}else this[_0x39a3ff(0x2c2)]=_0x39a3ff(0x309),this[_0x39a3ff(0x2f3)](),document[_0x39a3ff(0x1d9)]('splitSwitchBtn')[_0x39a3ff(0x1a8)]=_0x39a3ff(0x223),document[_0x39a3ff(0x1d9)](_0x39a3ff(0x2c7))[_0x39a3ff(0x1b6)]=!![],this[_0x39a3ff(0x21b)]();this['drawImage']();}['drawSplitImage'](_0x295950){const _0x3d14d4=_0x552347;if(!this[_0x3d14d4(0x215)]||this['horizontalLines'][_0x3d14d4(0x30f)]===0x0&&this[_0x3d14d4(0x1c2)][_0x3d14d4(0x30f)]===0x0)return;let _0x3dec05=document[_0x3d14d4(0x1d9)](_0x3d14d4(0x29c));if(!_0x3dec05){_0x3dec05=document['createElement']('div'),_0x3dec05['id']='splitPreview',_0x3dec05[_0x3d14d4(0x316)][_0x3d14d4(0x2bc)]='margin-top:\x2020px;padding:\x2015px;background:\x20rgba(18,\x2027,\x2045,\x200.6);border-radius:\x2010px;border:\x201px\x20solid\x20rgba(64,\x20224,\x20208,\x200.1);';const _0x1da13e=document[_0x3d14d4(0x286)]('h3');_0x1da13e['textContent']=_0x3d14d4(0x26c),_0x1da13e[_0x3d14d4(0x316)]['cssText']=_0x3d14d4(0x211),_0x3dec05[_0x3d14d4(0x1d8)](_0x1da13e),document['querySelector']('.right-panel')[_0x3d14d4(0x1d8)](_0x3dec05);}const _0x33c403=this[_0x3d14d4(0x19d)](),_0x107612=this[_0x3d14d4(0x212)]['getBoundingClientRect'](),_0x217854=_0x107612[_0x3d14d4(0x1bd)],_0x243894=_0x107612['height'],_0x510fab=document[_0x3d14d4(0x1d9)](_0x3d14d4(0x2b9))||document[_0x3d14d4(0x286)](_0x3d14d4(0x1cf)),_0x5bb8a8=0x3,_0x435b64=0x2;_0x510fab[_0x3d14d4(0x316)][_0x3d14d4(0x2bc)]=_0x3d14d4(0x282)+_0x5bb8a8+'px;margin:\x200px\x20auto;';const _0x192c8e=this[_0x3d14d4(0x21d)][_0x3d14d4(0x30f)]+0x1,_0x37e6ee=this[_0x3d14d4(0x1c2)][_0x3d14d4(0x30f)]+0x1,_0xfe6e84=_0x217854+this['verticalLines']['length']*_0x5bb8a8+_0x37e6ee*_0x435b64*0x2,_0x469ad9=_0x243894+this['horizontalLines'][_0x3d14d4(0x30f)]*_0x5bb8a8+_0x192c8e*_0x435b64*0x2;_0x510fab[_0x3d14d4(0x316)]['gridTemplateRows']='repeat('+_0x192c8e+',\x201fr)',_0x510fab[_0x3d14d4(0x316)][_0x3d14d4(0x20d)]=_0x3d14d4(0x2e9)+_0x37e6ee+_0x3d14d4(0x27f),_0x510fab[_0x3d14d4(0x316)][_0x3d14d4(0x1bd)]=_0xfe6e84+'px',_0x510fab[_0x3d14d4(0x316)]['height']=_0x469ad9+'px',_0x510fab[_0x3d14d4(0x316)][_0x3d14d4(0x2d9)]=_0x3d14d4(0x296)+_0x217854/_0xfe6e84+')',!document['getElementById']('splitGridContainer')&&(_0x510fab['id']=_0x3d14d4(0x2b9),_0x3dec05[_0x3d14d4(0x1d8)](_0x510fab)),_0x33c403[_0x3d14d4(0x2aa)]((_0x330f34,_0x117206)=>{const _0x2c1d78=_0x3d14d4,_0x5ee20e=_0x2c1d78(0x1b9)+(_0x117206+0x1);if(_0x295950!==_0x2c1d78(0x307)&&_0x295950!==_0x2c1d78(0x1fd)&&_0x5ee20e!==_0x295950)return;const _0x40bba4=document[_0x2c1d78(0x1d9)](_0x5ee20e)||document['createElement'](_0x2c1d78(0x212)),_0x47305f=new Image();_0x47305f['onload']=()=>{const _0x34a2a2=_0x2c1d78;_0x40bba4['width']=_0x330f34[_0x34a2a2(0x1bd)],_0x40bba4[_0x34a2a2(0x2ee)]=_0x330f34[_0x34a2a2(0x2ee)];const _0x21b46b=_0x40bba4[_0x34a2a2(0x1c5)]('2d');this[_0x34a2a2(0x1c9)][_0x5ee20e]=_0x47305f;const _0x2d1f24=this[_0x34a2a2(0x248)][_0x295950===_0x34a2a2(0x307)?'main_canvas':_0x5ee20e]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0};this[_0x34a2a2(0x248)][_0x5ee20e]={..._0x2d1f24};let _0x3add13='';_0x3add13+=_0x34a2a2(0x1f7)+_0x2d1f24[_0x34a2a2(0x2a5)]+'%)\x20',_0x3add13+=_0x34a2a2(0x2c8)+_0x2d1f24[_0x34a2a2(0x272)]+'%)\x20',_0x3add13+=_0x34a2a2(0x2ca)+_0x2d1f24['saturate']+'%)\x20',_0x3add13+=_0x34a2a2(0x25b)+_0x2d1f24[_0x34a2a2(0x2cd)]+_0x34a2a2(0x193),_0x21b46b[_0x34a2a2(0x1b7)]=_0x3add13[_0x34a2a2(0x1a5)](),_0x21b46b[_0x34a2a2(0x24f)](_0x47305f,0x0,0x0,_0x330f34[_0x34a2a2(0x1bd)],_0x330f34[_0x34a2a2(0x2ee)]),_0x21b46b[_0x34a2a2(0x1b7)]='none';};const _0x3591f3=document[_0x2c1d78(0x286)]('canvas');_0x3591f3[_0x2c1d78(0x1bd)]=_0x330f34['width'],_0x3591f3[_0x2c1d78(0x2ee)]=_0x330f34[_0x2c1d78(0x2ee)],_0x3591f3[_0x2c1d78(0x1c5)]('2d')['drawImage'](this[_0x2c1d78(0x215)],_0x330f34['x'],_0x330f34['y'],_0x330f34[_0x2c1d78(0x1bd)],_0x330f34[_0x2c1d78(0x2ee)],0x0,0x0,_0x330f34[_0x2c1d78(0x1bd)],_0x330f34[_0x2c1d78(0x2ee)]),_0x47305f[_0x2c1d78(0x273)]=_0x3591f3[_0x2c1d78(0x2b6)]();const _0x2a835b=_0x2c1d78(0x2ce)+(_0x117206+0x1),_0x51637a=document[_0x2c1d78(0x1d9)](_0x2a835b)||document['createElement']('div');_0x51637a[_0x2c1d78(0x316)][_0x2c1d78(0x2bc)]=_0x2c1d78(0x2e0)+_0x435b64+'px\x20solid\x20transparent;transition:\x20border-color\x200.3s;';const _0x53de53=_0x330f34[_0x2c1d78(0x1bd)]/this[_0x2c1d78(0x215)][_0x2c1d78(0x1bd)]*_0x217854+0x4,_0xaa024c=_0x330f34[_0x2c1d78(0x2ee)]/this[_0x2c1d78(0x215)][_0x2c1d78(0x2ee)]*_0x243894+0x4;_0x51637a['style'][_0x2c1d78(0x1bd)]=_0x53de53+'px',_0x51637a[_0x2c1d78(0x316)][_0x2c1d78(0x2ee)]=_0xaa024c+'px',!document['getElementById'](_0x5ee20e)&&(_0x40bba4['id']=_0x5ee20e,_0x51637a['appendChild'](_0x40bba4)),!document['getElementById'](_0x2a835b)&&(_0x51637a['id']=_0x2a835b,_0x51637a[_0x2c1d78(0x26e)](_0x2c1d78(0x2cc),()=>{const _0x149e96=_0x2c1d78;_0x51637a[_0x149e96(0x316)][_0x149e96(0x1b2)]=_0x149e96(0x321);}),_0x51637a['addEventListener']('mouseleave',()=>{const _0x88bbfd=_0x2c1d78;_0x51637a[_0x88bbfd(0x316)][_0x88bbfd(0x1b2)]=_0x88bbfd(0x202);}),_0x51637a['addEventListener'](_0x2c1d78(0x228),_0x798116=>{const _0x24d149=_0x2c1d78;this[_0x24d149(0x2ed)](_0x798116,_0x40bba4);}),_0x510fab[_0x2c1d78(0x1d8)](_0x51637a)),this[_0x2c1d78(0x23a)](_0x5ee20e);}),this[_0x3d14d4(0x2f9)](_0x3d14d4(0x2b5),_0x3d14d4(0x288)),document['getElementById']('downloadBtn')[_0x3d14d4(0x1b6)]=![];}[_0x552347(0x19d)](){const _0x14c44c=_0x552347,_0x46aec5=[0x0,...this[_0x14c44c(0x1c2)][_0x14c44c(0x207)]((_0x6fa5,_0x496ce5)=>_0x6fa5-_0x496ce5),this[_0x14c44c(0x215)][_0x14c44c(0x1bd)]],_0x5df4f8=[0x0,...this[_0x14c44c(0x21d)]['sort']((_0x20ceab,_0xaebda5)=>_0x20ceab-_0xaebda5),this[_0x14c44c(0x215)][_0x14c44c(0x2ee)]],_0xc91560=[];for(let _0x45bf09=0x0;_0x45bf09<_0x5df4f8[_0x14c44c(0x30f)]-0x1;_0x45bf09++){for(let _0x444b8b=0x0;_0x444b8b<_0x46aec5['length']-0x1;_0x444b8b++){_0xc91560[_0x14c44c(0x2c0)]({'x':_0x46aec5[_0x444b8b],'y':_0x5df4f8[_0x45bf09],'width':_0x46aec5[_0x444b8b+0x1]-_0x46aec5[_0x444b8b],'height':_0x5df4f8[_0x45bf09+0x1]-_0x5df4f8[_0x45bf09]});}}return _0xc91560;}[_0x552347(0x2ed)](_0x3d9485,_0x3c526d){const _0x2f90ac=_0x552347;_0x3d9485[_0x2f90ac(0x2af)]();const _0x3ec669=this[_0x2f90ac(0x1c9)][_0x3c526d['id']],_0x5a539a=document[_0x2f90ac(0x286)](_0x2f90ac(0x212));_0x5a539a[_0x2f90ac(0x1bd)]=_0x3ec669[_0x2f90ac(0x1bd)],_0x5a539a['height']=_0x3ec669[_0x2f90ac(0x2ee)];const _0x5a9320=_0x5a539a[_0x2f90ac(0x1c5)]('2d');_0x5a9320['drawImage'](_0x3ec669,0x0,0x0),this[_0x2f90ac(0x215)]=_0x5a539a,this[_0x2f90ac(0x27e)]=0x0,this[_0x2f90ac(0x266)](),this[_0x2f90ac(0x2f3)](),this[_0x2f90ac(0x2d5)](),this[_0x2f90ac(0x2c2)]=null,document[_0x2f90ac(0x1d9)](_0x2f90ac(0x2c7))['textContent']=_0x2f90ac(0x26a),document[_0x2f90ac(0x1d9)](_0x2f90ac(0x2c7))[_0x2f90ac(0x1b6)]=![],document[_0x2f90ac(0x1d9)](_0x2f90ac(0x279))['textContent']=_0x2f90ac(0x24e),document[_0x2f90ac(0x1d9)](_0x2f90ac(0x279))[_0x2f90ac(0x1b6)]=![];const _0x48c654=document[_0x2f90ac(0x1d9)](_0x2f90ac(0x29c));_0x48c654&&_0x48c654['remove'](),document[_0x2f90ac(0x1d9)](_0x2f90ac(0x2d6))[_0x2f90ac(0x1b6)]=![],this[_0x2f90ac(0x2f9)](_0x2f90ac(0x2de),_0x2f90ac(0x288)),this['saveToHistory'](),this[_0x2f90ac(0x248)]={'main_canvas':this['filters'][_0x3c526d['id']]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0}},this['currentFilterImage']=_0x2f90ac(0x2fd),this['cleanSplitImageFilter']();}[_0x552347(0x2c6)](_0x11cd45){const _0x339b3e=_0x552347;this[_0x339b3e(0x23b)]&&document[_0x339b3e(0x1d9)](this[_0x339b3e(0x23b)])[_0x339b3e(0x24d)][_0x339b3e(0x2a3)]('current-edit-filter'),this[_0x339b3e(0x23b)]=_0x11cd45,document[_0x339b3e(0x1d9)](_0x11cd45)[_0x339b3e(0x24d)]['add'](_0x339b3e(0x214)),this[_0x339b3e(0x210)]();}[_0x552347(0x293)](_0x45e11f,_0x8d7f51){const _0x14f036=_0x552347;!this['filters'][this[_0x14f036(0x23b)]]&&(this['filters'][this[_0x14f036(0x23b)]]={'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0}),this[_0x14f036(0x248)][this['currentFilterImage']][_0x45e11f]=parseInt(_0x8d7f51),document[_0x14f036(0x1d9)](_0x45e11f+_0x14f036(0x199))[_0x14f036(0x1a8)]=_0x8d7f51+(_0x45e11f===_0x14f036(0x2cd)?'%':'%'),this[_0x14f036(0x24f)](),this['drawSplitImage'](this[_0x14f036(0x23b)]);}[_0x552347(0x210)](){const _0x2b0edc=_0x552347,_0x5da8f4=this[_0x2b0edc(0x248)][this[_0x2b0edc(0x23b)]]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0};document['getElementById']('brightness')[_0x2b0edc(0x317)]=_0x5da8f4[_0x2b0edc(0x2a5)],document[_0x2b0edc(0x1d9)](_0x2b0edc(0x272))[_0x2b0edc(0x317)]=_0x5da8f4[_0x2b0edc(0x272)],document[_0x2b0edc(0x1d9)](_0x2b0edc(0x2b0))[_0x2b0edc(0x317)]=_0x5da8f4['saturate'],document[_0x2b0edc(0x1d9)]('grayscale')[_0x2b0edc(0x317)]=_0x5da8f4[_0x2b0edc(0x2cd)],document[_0x2b0edc(0x1d9)](_0x2b0edc(0x219))[_0x2b0edc(0x1a8)]=_0x5da8f4[_0x2b0edc(0x2a5)]+'%',document['getElementById'](_0x2b0edc(0x1b0))[_0x2b0edc(0x1a8)]=_0x5da8f4['contrast']+'%',document[_0x2b0edc(0x1d9)](_0x2b0edc(0x249))[_0x2b0edc(0x1a8)]=_0x5da8f4[_0x2b0edc(0x2b0)]+'%',document[_0x2b0edc(0x1d9)](_0x2b0edc(0x2f5))[_0x2b0edc(0x1a8)]=_0x5da8f4[_0x2b0edc(0x2cd)]+'%';}[_0x552347(0x2fc)](){const _0x5311a2=_0x552347,_0x41e2f1={...this[_0x5311a2(0x248)][this[_0x5311a2(0x23b)]]};this[_0x5311a2(0x248)]['main_canvas']={..._0x41e2f1},Object[_0x5311a2(0x259)](this[_0x5311a2(0x248)])['forEach'](_0x1501e1=>{const _0x12d9ee=_0x5311a2;_0x1501e1[_0x12d9ee(0x2e5)](_0x12d9ee(0x2a7))&&(this[_0x12d9ee(0x248)][_0x1501e1]={..._0x41e2f1});}),this[_0x5311a2(0x24f)](),this['drawSplitImage'](_0x5311a2(0x1fd)),this[_0x5311a2(0x2f9)]('滤镜已应用到所有图片','success');}[_0x552347(0x2c4)](){const _0x473e7f=_0x552347;this['currentFilterImage']===_0x473e7f(0x2fd)?this[_0x473e7f(0x248)][_0x473e7f(0x2fd)]={'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0}:this[_0x473e7f(0x248)][this[_0x473e7f(0x23b)]]={'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0},this[_0x473e7f(0x210)](),this['drawImage'](),this['showStatus'](_0x473e7f(0x303),'success');}[_0x552347(0x28e)](){const _0x1f654d=_0x552347;this[_0x1f654d(0x248)]={'main_canvas':this[_0x1f654d(0x248)][_0x1f654d(0x2fd)]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0}};const _0x2896a5=document[_0x1f654d(0x1d9)](_0x1f654d(0x22c));for(let _0x2f246f=_0x2896a5[_0x1f654d(0x299)]['length']-0x1;_0x2f246f>=0x0;_0x2f246f--){const _0x4a83b3=_0x2896a5[_0x1f654d(0x299)][_0x2f246f];_0x4a83b3[_0x1f654d(0x317)]!==_0x1f654d(0x2fd)&&_0x2896a5[_0x1f654d(0x2a3)](_0x2f246f);}}[_0x552347(0x23a)](_0x4ae1c9){const _0x1491b7=_0x552347;!this[_0x1491b7(0x248)][_0x4ae1c9]&&(this[_0x1491b7(0x248)][_0x4ae1c9]={'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0});if(document['querySelectorAll'](_0x1491b7(0x1ce)+_0x4ae1c9+'\x22]')[_0x1491b7(0x30f)])return;const _0x4cc74e=document[_0x1491b7(0x1d9)](_0x1491b7(0x22c)),_0x197935=document[_0x1491b7(0x286)](_0x1491b7(0x262));_0x197935[_0x1491b7(0x317)]=_0x4ae1c9,_0x197935[_0x1491b7(0x1a8)]=_0x1491b7(0x1e1)+_0x4ae1c9[_0x1491b7(0x295)](_0x1491b7(0x1b9),''),_0x4cc74e[_0x1491b7(0x1d8)](_0x197935);}[_0x552347(0x266)](){const _0x4fc8b4=_0x552347;if(this['currentCanvas']){const _0x3981d2=Math[_0x4fc8b4(0x1a6)](window[_0x4fc8b4(0x1ac)]-0x190,this['currentCanvas'][_0x4fc8b4(0x1bd)]),_0x39553f=Math[_0x4fc8b4(0x1a6)](window[_0x4fc8b4(0x27d)]-0x12c,this[_0x4fc8b4(0x215)][_0x4fc8b4(0x2ee)]),_0xe00e24=Math[_0x4fc8b4(0x1a6)](_0x3981d2/this['currentCanvas'][_0x4fc8b4(0x1bd)],_0x39553f/this['currentCanvas']['height']);this[_0x4fc8b4(0x212)][_0x4fc8b4(0x1bd)]=this[_0x4fc8b4(0x215)][_0x4fc8b4(0x1bd)]*_0xe00e24,this[_0x4fc8b4(0x212)][_0x4fc8b4(0x2ee)]=this[_0x4fc8b4(0x215)][_0x4fc8b4(0x2ee)]*_0xe00e24,this[_0x4fc8b4(0x24f)]();}else document[_0x4fc8b4(0x1d9)](_0x4fc8b4(0x21d))[_0x4fc8b4(0x1b6)]=!![],document['getElementById'](_0x4fc8b4(0x1c2))[_0x4fc8b4(0x1b6)]=!![],document['getElementById'](_0x4fc8b4(0x195))[_0x4fc8b4(0x1b6)]=!![],document[_0x4fc8b4(0x1d9)]('cropSwitchBtn')['disabled']=!![],document[_0x4fc8b4(0x1d9)]('cropSwitchBtn')[_0x4fc8b4(0x1b6)]=!![],document[_0x4fc8b4(0x1d9)]('splitSwitchBtn')[_0x4fc8b4(0x1b6)]=!![],document[_0x4fc8b4(0x1d9)](_0x4fc8b4(0x2d6))['disabled']=!![];}[_0x552347(0x2fe)](_0x4c09f5){const _0x5cefc3=_0x552347,_0x7f9382=_0x4c09f5[_0x5cefc3(0x320)]['files'][0x0];if(!_0x7f9382)return;const _0x30053e=new FileReader();_0x30053e[_0x5cefc3(0x2b4)]=_0x4ec2d7=>{const _0x5bd49f=_0x5cefc3,_0x100855=new Image();_0x100855[_0x5bd49f(0x2b4)]=()=>{const _0x1fd906=_0x5bd49f;this[_0x1fd906(0x247)]=document[_0x1fd906(0x286)](_0x1fd906(0x212)),this[_0x1fd906(0x247)][_0x1fd906(0x1bd)]=_0x100855[_0x1fd906(0x1bd)],this[_0x1fd906(0x247)][_0x1fd906(0x2ee)]=_0x100855[_0x1fd906(0x2ee)];const _0x2146f3=this['originalCanvas']['getContext']('2d');_0x2146f3[_0x1fd906(0x24f)](_0x100855,0x0,0x0),this['currentCanvas']=this[_0x1fd906(0x1ff)](this[_0x1fd906(0x247)]),this[_0x1fd906(0x27e)]=0x0,this[_0x1fd906(0x2c2)]=null,this[_0x1fd906(0x2d4)](),this[_0x1fd906(0x266)](),this[_0x1fd906(0x2f3)](),this[_0x1fd906(0x2d5)](),this[_0x1fd906(0x246)](),document['getElementById']('cropSwitchBtn')['textContent']='点击开始裁剪',document[_0x1fd906(0x1d9)](_0x1fd906(0x2c7))['disabled']=![],document[_0x1fd906(0x1d9)]('splitSwitchBtn')[_0x1fd906(0x1a8)]='点击开始切割',document[_0x1fd906(0x1d9)](_0x1fd906(0x279))[_0x1fd906(0x1b6)]=![],document[_0x1fd906(0x1d9)](_0x1fd906(0x2d6))[_0x1fd906(0x1b6)]=![],this[_0x1fd906(0x2f9)](_0x1fd906(0x23c),'success');},_0x100855['src']=_0x4ec2d7[_0x5bd49f(0x320)][_0x5bd49f(0x19f)];},_0x30053e[_0x5cefc3(0x297)](_0x7f9382);}['cloneCanvas'](_0x2df13d){const _0x5a935a=_0x552347,_0x43568b=document['createElement'](_0x5a935a(0x212));_0x43568b[_0x5a935a(0x1bd)]=_0x2df13d[_0x5a935a(0x1bd)],_0x43568b['height']=_0x2df13d[_0x5a935a(0x2ee)];const _0x4e92a6=_0x43568b[_0x5a935a(0x1c5)]('2d');return _0x4e92a6[_0x5a935a(0x24f)](_0x2df13d,0x0,0x0),_0x43568b;}['handleRotation'](_0x732a9c){const _0x29c142=_0x552347;if(!this[_0x29c142(0x215)])return;this['rotation']=parseInt(_0x732a9c),this[_0x29c142(0x2d4)](),this[_0x29c142(0x1bf)]();}['handleRotateWheel'](_0x4e3da9){const _0x33cb99=_0x552347;if(!this['currentCanvas'])return;_0x4e3da9[_0x33cb99(0x2af)]();const _0x3a2c40=_0x4e3da9[_0x33cb99(0x1b5)]>0x0?-0x1:0x1,_0x3a53d0=parseInt(document[_0x33cb99(0x1d9)]('rotateInput')[_0x33cb99(0x317)])||0x0,_0xebe0d4=Math[_0x33cb99(0x31f)](-0xb4,Math[_0x33cb99(0x1a6)](0xb4,_0x3a53d0+_0x3a2c40));this[_0x33cb99(0x231)](_0xebe0d4[_0x33cb99(0x197)]());}[_0x552347(0x27a)](_0x57abee){const _0x5bf001=_0x552347;if(!this[_0x5bf001(0x215)])return;this[_0x5bf001(0x27e)]+=_0x57abee;if(this[_0x5bf001(0x27e)]>0xb4)this[_0x5bf001(0x27e)]-=0x168;if(this[_0x5bf001(0x27e)]<-0xb4)this[_0x5bf001(0x27e)]+=0x168;this[_0x5bf001(0x2d4)](),this[_0x5bf001(0x1bf)]();}[_0x552347(0x284)](){const _0x3d5752=_0x552347;if(!this['currentCanvas'])return;this['rotation']=0x0,this['updateRotationDisplay'](),this[_0x3d5752(0x1bf)]();}[_0x552347(0x2d4)](){const _0x3856e4=_0x552347;document[_0x3856e4(0x1d9)](_0x3856e4(0x2ea))[_0x3856e4(0x317)]=this['rotation'],document['getElementById']('rotateInput')[_0x3856e4(0x317)]=this[_0x3856e4(0x27e)];}['applyRotation'](){const _0x14aeaf=_0x552347;if(!this[_0x14aeaf(0x215)]||!this[_0x14aeaf(0x247)])return;if(this['rotation']===0x0)this[_0x14aeaf(0x215)]=this[_0x14aeaf(0x1ff)](this[_0x14aeaf(0x247)]);else{const _0x4f2883=this[_0x14aeaf(0x27e)]*Math['PI']/0xb4,_0x18d6de=Math['abs'](Math[_0x14aeaf(0x1fb)](_0x4f2883)),_0x7436e9=Math[_0x14aeaf(0x287)](Math[_0x14aeaf(0x1da)](_0x4f2883)),_0x10ca12=this[_0x14aeaf(0x247)][_0x14aeaf(0x1bd)]*_0x18d6de+this[_0x14aeaf(0x247)][_0x14aeaf(0x2ee)]*_0x7436e9,_0x44cf50=this[_0x14aeaf(0x247)]['width']*_0x7436e9+this[_0x14aeaf(0x247)][_0x14aeaf(0x2ee)]*_0x18d6de,_0x34e3fe=document[_0x14aeaf(0x286)]('canvas');_0x34e3fe[_0x14aeaf(0x1bd)]=_0x10ca12,_0x34e3fe['height']=_0x44cf50;const _0x1c9e6d=_0x34e3fe[_0x14aeaf(0x1c5)]('2d');_0x1c9e6d[_0x14aeaf(0x2e1)](_0x10ca12/0x2,_0x44cf50/0x2),_0x1c9e6d[_0x14aeaf(0x292)](_0x4f2883),_0x1c9e6d[_0x14aeaf(0x24f)](this[_0x14aeaf(0x247)],-this['originalCanvas'][_0x14aeaf(0x1bd)]/0x2,-this[_0x14aeaf(0x247)][_0x14aeaf(0x2ee)]/0x2),this[_0x14aeaf(0x215)]=_0x34e3fe;}this[_0x14aeaf(0x266)](),this[_0x14aeaf(0x2f3)](),this[_0x14aeaf(0x246)]();}[_0x552347(0x245)](_0x2bd4ac){const _0x40b6d4=_0x552347;if(this[_0x40b6d4(0x275)]||!this[_0x40b6d4(0x215)])return;const _0x4373a0=this[_0x40b6d4(0x212)][_0x40b6d4(0x28c)](),_0x4323f0=_0x2bd4ac['clientX']-_0x4373a0['left'],_0x27b3c1=_0x2bd4ac[_0x40b6d4(0x1d1)]-_0x4373a0[_0x40b6d4(0x250)];if(this['currentMode']===_0x40b6d4(0x233)){if(this[_0x40b6d4(0x2b3)][_0x40b6d4(0x30f)]<0x4){const _0x129e92=_0x4323f0*(this[_0x40b6d4(0x215)][_0x40b6d4(0x1bd)]/_0x4373a0[_0x40b6d4(0x1bd)]),_0x4a1563=_0x27b3c1*(this[_0x40b6d4(0x215)]['height']/_0x4373a0[_0x40b6d4(0x2ee)]),_0x8b5654={'x':_0x129e92,'y':_0x4a1563};this[_0x40b6d4(0x2b3)][_0x40b6d4(0x2c0)](_0x8b5654),this[_0x40b6d4(0x24f)](),this[_0x40b6d4(0x1e2)](),this[_0x40b6d4(0x2b3)][_0x40b6d4(0x30f)]===0x4&&this[_0x40b6d4(0x2f9)]('四边形选区创建完成！可以拖动调整或点击\x22裁剪图片\x22。',_0x40b6d4(0x288));}}}[_0x552347(0x1e5)](_0x14e902){const _0x5241bb=_0x552347;if(!this[_0x5241bb(0x215)])return;if(this['currentMode']==='split')this['handleSplitModeMouseDown'](_0x14e902);else this[_0x5241bb(0x2c2)]==='crop'&&this['handleCorpModeMouseDown'](_0x14e902);}[_0x552347(0x242)](_0x2e7da1){const _0x3be967=_0x552347;if(!this[_0x3be967(0x215)])return;if(this['currentMode']===_0x3be967(0x233))this[_0x3be967(0x1a9)](_0x2e7da1);else this[_0x3be967(0x2c2)]===_0x3be967(0x309)?this[_0x3be967(0x22b)](_0x2e7da1):(this[_0x3be967(0x212)][_0x3be967(0x316)][_0x3be967(0x209)]='crosshair',this[_0x3be967(0x20e)][_0x3be967(0x316)][_0x3be967(0x2f0)]=_0x3be967(0x2f1),this[_0x3be967(0x24f)]());}['handleTouchStart'](_0x48c187){const _0x578e78=_0x552347;_0x48c187[_0x578e78(0x2af)]();if(!this[_0x578e78(0x215)])return;const _0x5b9aab=_0x48c187[_0x578e78(0x2ff)][0x0];this[_0x578e78(0x1e5)]({'clientX':_0x5b9aab['clientX'],'clientY':_0x5b9aab[_0x578e78(0x1d1)]});}['handleTouchMove'](_0x85170d){const _0x4ce20=_0x552347;_0x85170d[_0x4ce20(0x2af)]();if(!this[_0x4ce20(0x215)])return;const _0x7e11ad=_0x85170d['touches'][0x0];this[_0x4ce20(0x242)]({'clientX':_0x7e11ad[_0x4ce20(0x268)],'clientY':_0x7e11ad[_0x4ce20(0x1d1)]});}[_0x552347(0x264)](_0x52053f){const _0x1426b4=_0x552347;_0x52053f['preventDefault']();if(!this[_0x1426b4(0x215)])return;this['handleMouseUp'](_0x52053f);}[_0x552347(0x1f0)](_0x5884e2){const _0x3df827=_0x552347;if(this[_0x3df827(0x1d4)])this[_0x3df827(0x1d4)]=![],this[_0x3df827(0x1e7)]=null,this[_0x3df827(0x236)]=-0x1,this[_0x3df827(0x212)][_0x3df827(0x316)][_0x3df827(0x209)]=_0x3df827(0x2d0);else this[_0x3df827(0x275)]&&(this[_0x3df827(0x275)]=![],this[_0x3df827(0x277)]=-0x1,this[_0x3df827(0x212)][_0x3df827(0x316)][_0x3df827(0x209)]='crosshair',this[_0x3df827(0x21a)]());}[_0x552347(0x2ef)](_0x2a16ec){const _0xd45e1a=_0x552347;if(this['points'][_0xd45e1a(0x30f)]!==0x4)return;const _0x1223b5=this[_0xd45e1a(0x212)][_0xd45e1a(0x28c)](),_0x52a045=_0x2a16ec[_0xd45e1a(0x268)]-_0x1223b5[_0xd45e1a(0x1c7)],_0x1b38df=_0x2a16ec['clientY']-_0x1223b5[_0xd45e1a(0x250)];for(let _0x5dab33=0x0;_0x5dab33<this[_0xd45e1a(0x2b3)][_0xd45e1a(0x30f)];_0x5dab33++){const _0x13119a=this[_0xd45e1a(0x2b3)][_0x5dab33],_0x5dec37=_0x13119a['x']*(_0x1223b5[_0xd45e1a(0x1bd)]/this[_0xd45e1a(0x215)][_0xd45e1a(0x1bd)]),_0x308c5c=_0x13119a['y']*(_0x1223b5[_0xd45e1a(0x2ee)]/this['currentCanvas']['height']);if(Math[_0xd45e1a(0x287)](_0x52a045-_0x5dec37)<0xa&&Math[_0xd45e1a(0x287)](_0x1b38df-_0x308c5c)<0xa){this['isDragging']=!![],this['dragPointIndex']=_0x5dab33,this['canvas'][_0xd45e1a(0x316)][_0xd45e1a(0x209)]=_0xd45e1a(0x26d);return;}}}[_0x552347(0x2a6)](_0x4422f3){const _0x115922=_0x552347,_0x283afa=this[_0x115922(0x212)][_0x115922(0x28c)](),_0x10fdda=_0x4422f3[_0x115922(0x268)]-_0x283afa[_0x115922(0x1c7)],_0x3db117=_0x4422f3[_0x115922(0x1d1)]-_0x283afa['top'],_0x2d479a=_0x283afa[_0x115922(0x1bd)]/this[_0x115922(0x215)]['width'],_0x504040=_0x283afa['height']/this[_0x115922(0x215)][_0x115922(0x2ee)];if(this[_0x115922(0x21d)]['length']>0x0||this['verticalLines']['length']>0x0){for(let _0x5cc498=0x0;_0x5cc498<this[_0x115922(0x21d)][_0x115922(0x30f)];_0x5cc498++){const _0x2f85c0=this[_0x115922(0x21d)][_0x5cc498]*_0x504040;if(Math['abs'](_0x3db117-_0x2f85c0)<0x5){this[_0x115922(0x1d4)]=!![],this[_0x115922(0x1e7)]='horizontal',this[_0x115922(0x236)]=_0x5cc498,this['canvas'][_0x115922(0x316)][_0x115922(0x209)]=_0x115922(0x1f1);return;}}for(let _0x2be430=0x0;_0x2be430<this[_0x115922(0x1c2)][_0x115922(0x30f)];_0x2be430++){const _0x3532ec=this[_0x115922(0x1c2)][_0x2be430]*_0x2d479a;if(Math['abs'](_0x10fdda-_0x3532ec)<0x5){this['isDraggingLine']=!![],this[_0x115922(0x1e7)]=_0x115922(0x2ab),this[_0x115922(0x236)]=_0x2be430,this['canvas'][_0x115922(0x316)][_0x115922(0x209)]='ew-resize';return;}}}}[_0x552347(0x1a9)](_0x3dceb3){const _0x4db8c6=_0x552347,_0xb42cf2=this[_0x4db8c6(0x212)][_0x4db8c6(0x28c)](),_0x37378d=Math['max'](Math[_0x4db8c6(0x1a6)](_0x3dceb3['clientX']-_0xb42cf2[_0x4db8c6(0x1c7)],_0xb42cf2[_0x4db8c6(0x1bd)]),0x0),_0x5cd4bc=Math[_0x4db8c6(0x31f)](Math[_0x4db8c6(0x1a6)](_0x3dceb3[_0x4db8c6(0x1d1)]-_0xb42cf2[_0x4db8c6(0x250)],_0xb42cf2[_0x4db8c6(0x2ee)]),0x0);this[_0x4db8c6(0x2f8)]=![],this[_0x4db8c6(0x270)]=-0x1;if(this['points'][_0x4db8c6(0x30f)]===0x4){for(let _0x4d6085=0x0;_0x4d6085<this['points']['length'];_0x4d6085++){const _0x3b446b=this[_0x4db8c6(0x2b3)][_0x4d6085],_0x9d7b3c=_0x3b446b['x']*(_0xb42cf2[_0x4db8c6(0x1bd)]/this[_0x4db8c6(0x215)][_0x4db8c6(0x1bd)]),_0x249cc8=_0x3b446b['y']*(_0xb42cf2[_0x4db8c6(0x2ee)]/this[_0x4db8c6(0x215)]['height']);if(Math['abs'](_0x37378d-_0x9d7b3c)<0xf&&Math[_0x4db8c6(0x287)](_0x5cd4bc-_0x249cc8)<0xf){this['isHoveringPoint']=!![],this[_0x4db8c6(0x270)]=_0x4d6085,this[_0x4db8c6(0x212)][_0x4db8c6(0x316)]['cursor']='move',this[_0x4db8c6(0x20e)][_0x4db8c6(0x316)][_0x4db8c6(0x2f0)]=_0x4db8c6(0x240),this['pointHover'][_0x4db8c6(0x316)][_0x4db8c6(0x1c7)]=_0xb42cf2[_0x4db8c6(0x1c7)]+_0x9d7b3c+'px',this[_0x4db8c6(0x20e)]['style']['top']=_0xb42cf2[_0x4db8c6(0x250)]+0x1+_0x249cc8+'px';break;}}!this['isHoveringPoint']&&(this['pointHover'][_0x4db8c6(0x316)][_0x4db8c6(0x2f0)]='none',!this['isDragging']&&(this[_0x4db8c6(0x212)][_0x4db8c6(0x316)][_0x4db8c6(0x209)]=_0x4db8c6(0x2d0)));}if(this[_0x4db8c6(0x275)]&&this[_0x4db8c6(0x277)]!==-0x1){const _0x5bfeff=_0x37378d*(this['currentCanvas'][_0x4db8c6(0x1bd)]/_0xb42cf2[_0x4db8c6(0x1bd)]),_0x147fa7=_0x5cd4bc*(this[_0x4db8c6(0x215)][_0x4db8c6(0x2ee)]/_0xb42cf2[_0x4db8c6(0x2ee)]);this[_0x4db8c6(0x2b3)][this[_0x4db8c6(0x277)]]={'x':_0x5bfeff,'y':_0x147fa7},this['drawImage'](),this[_0x4db8c6(0x30e)](_0x3dceb3[_0x4db8c6(0x268)],_0x3dceb3[_0x4db8c6(0x1d1)]);}else this['drawImage']();}[_0x552347(0x22b)](_0x40945c){const _0x176169=_0x552347,_0x2cbf46=this[_0x176169(0x212)][_0x176169(0x28c)](),_0x5882ba=Math[_0x176169(0x31f)](Math['min'](_0x40945c[_0x176169(0x268)]-_0x2cbf46['left'],_0x2cbf46['width']),0x0),_0x2bf402=Math['max'](Math[_0x176169(0x1a6)](_0x40945c[_0x176169(0x1d1)]-_0x2cbf46[_0x176169(0x250)],_0x2cbf46[_0x176169(0x2ee)]),0x0);if(!this['isDragging']&&!this[_0x176169(0x1d4)]){let _0x371c7f=![];const _0x274698=_0x2cbf46[_0x176169(0x1bd)]/this[_0x176169(0x215)][_0x176169(0x1bd)],_0x105ea5=_0x2cbf46['height']/this[_0x176169(0x215)][_0x176169(0x2ee)];for(let _0x524712=0x0;_0x524712<this['horizontalLines'][_0x176169(0x30f)];_0x524712++){const _0x5461db=this['horizontalLines'][_0x524712]*_0x105ea5;if(Math['abs'](_0x2bf402-_0x5461db)<0x5){this[_0x176169(0x212)][_0x176169(0x316)][_0x176169(0x209)]='ns-resize',_0x371c7f=!![];break;}}if(!_0x371c7f)for(let _0x5179fe=0x0;_0x5179fe<this[_0x176169(0x1c2)][_0x176169(0x30f)];_0x5179fe++){const _0x2a2419=this['verticalLines'][_0x5179fe]*_0x274698;if(Math[_0x176169(0x287)](_0x5882ba-_0x2a2419)<0x5){this[_0x176169(0x212)][_0x176169(0x316)]['cursor']=_0x176169(0x319),_0x371c7f=!![];break;}}!_0x371c7f&&(this[_0x176169(0x212)][_0x176169(0x316)]['cursor']=_0x176169(0x2d0));}if(this['isDraggingLine']&&this[_0x176169(0x236)]!==-0x1){const _0xc96957=_0x5882ba*(this[_0x176169(0x215)][_0x176169(0x1bd)]/_0x2cbf46[_0x176169(0x1bd)]),_0x205895=_0x2bf402*(this[_0x176169(0x215)]['height']/_0x2cbf46[_0x176169(0x2ee)]);if(this[_0x176169(0x1e7)]===_0x176169(0x20b))this[_0x176169(0x21d)][this[_0x176169(0x236)]]=Math[_0x176169(0x31f)](0x0,Math[_0x176169(0x1a6)](this[_0x176169(0x215)]['height'],_0x205895));else this[_0x176169(0x1e7)]==='vertical'&&(this[_0x176169(0x1c2)][this['dragLineIndex']]=Math[_0x176169(0x31f)](0x0,Math[_0x176169(0x1a6)](this['currentCanvas'][_0x176169(0x1bd)],_0xc96957)));this[_0x176169(0x24f)]();}else this[_0x176169(0x24f)]();}[_0x552347(0x24f)](){const _0x104732=_0x552347;if(!this[_0x104732(0x215)])return;this[_0x104732(0x1aa)][_0x104732(0x21f)](0x0,0x0,this[_0x104732(0x212)][_0x104732(0x1bd)],this['canvas'][_0x104732(0x2ee)]);const _0x1b60a8=this[_0x104732(0x248)][_0x104732(0x2fd)]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0};let _0x1cb07f='';_0x1cb07f+=_0x104732(0x1f7)+_0x1b60a8[_0x104732(0x2a5)]+_0x104732(0x193),_0x1cb07f+=_0x104732(0x2c8)+_0x1b60a8[_0x104732(0x272)]+_0x104732(0x193),_0x1cb07f+=_0x104732(0x2ca)+_0x1b60a8['saturate']+'%)\x20',_0x1cb07f+=_0x104732(0x25b)+_0x1b60a8[_0x104732(0x2cd)]+'%)\x20',this[_0x104732(0x1aa)]['filter']=_0x1cb07f['trim'](),this[_0x104732(0x1aa)][_0x104732(0x24f)](this[_0x104732(0x215)],0x0,0x0,this[_0x104732(0x212)]['width'],this[_0x104732(0x212)][_0x104732(0x2ee)]),this[_0x104732(0x1aa)][_0x104732(0x1b7)]='none';if(this['points'][_0x104732(0x30f)]>0x0){this[_0x104732(0x1aa)][_0x104732(0x24a)]='#0333ff',this['ctx'][_0x104732(0x1ad)]=0x3,this[_0x104732(0x1aa)][_0x104732(0x1dc)]([0x2,0x2]),this['ctx'][_0x104732(0x2a0)]();const _0x29e98a=this[_0x104732(0x212)][_0x104732(0x1bd)]/this[_0x104732(0x215)][_0x104732(0x1bd)],_0x5c4220=this[_0x104732(0x212)][_0x104732(0x2ee)]/this['currentCanvas'][_0x104732(0x2ee)];this[_0x104732(0x1aa)][_0x104732(0x254)](this['points'][0x0]['x']*_0x29e98a,this[_0x104732(0x2b3)][0x0]['y']*_0x5c4220);for(let _0x2ea888=0x1;_0x2ea888<this['points'][_0x104732(0x30f)];_0x2ea888++){this[_0x104732(0x1aa)][_0x104732(0x2e7)](this[_0x104732(0x2b3)][_0x2ea888]['x']*_0x29e98a,this[_0x104732(0x2b3)][_0x2ea888]['y']*_0x5c4220);}this['points'][_0x104732(0x30f)]===0x4&&this['ctx']['closePath']();this['ctx']['stroke']();for(let _0x15c773=0x0;_0x15c773<this[_0x104732(0x2b3)][_0x104732(0x30f)];_0x15c773++){const _0x33431a=this['points'][_0x15c773],_0x24579f=_0x33431a['x']*_0x29e98a,_0x466118=_0x33431a['y']*_0x5c4220;this[_0x104732(0x2f8)]&&this[_0x104732(0x270)]===_0x15c773&&(this['ctx'][_0x104732(0x1e6)]='rgba(255,\x20255,\x20255,\x200.4)',this[_0x104732(0x1aa)][_0x104732(0x2a0)](),this[_0x104732(0x1aa)][_0x104732(0x1bb)](_0x24579f-0x1,_0x466118,0xf,0x0,0x2*Math['PI']),this[_0x104732(0x1aa)][_0x104732(0x1a4)](),this[_0x104732(0x1aa)]['fillStyle']=_0x104732(0x1ea),this[_0x104732(0x1aa)][_0x104732(0x2a0)](),this[_0x104732(0x1aa)][_0x104732(0x1bb)](_0x24579f,_0x466118,0xc,0x0,0x2*Math['PI']),this[_0x104732(0x1aa)][_0x104732(0x1a4)]()),this[_0x104732(0x1aa)][_0x104732(0x1e6)]=_0x104732(0x2a9),this[_0x104732(0x1aa)]['beginPath'](),this['ctx'][_0x104732(0x1bb)](_0x24579f,_0x466118,0x6,0x0,0x2*Math['PI']),this[_0x104732(0x1aa)][_0x104732(0x1a4)]();}this[_0x104732(0x1aa)][_0x104732(0x1dc)]([]);}if(this[_0x104732(0x21d)][_0x104732(0x30f)]>0x0||this[_0x104732(0x1c2)][_0x104732(0x30f)]>0x0){const _0x195fea=this['canvas']['width']/this[_0x104732(0x215)]['width'],_0xeef57d=this[_0x104732(0x212)][_0x104732(0x2ee)]/this[_0x104732(0x215)]['height'];this[_0x104732(0x1aa)]['strokeStyle']=_0x104732(0x27b),this[_0x104732(0x1aa)]['lineWidth']=0x2,this['ctx'][_0x104732(0x1dc)]([0x6,0x2]),this[_0x104732(0x1aa)][_0x104732(0x2a0)]();for(let _0x2fa21a=0x0;_0x2fa21a<this['horizontalLines'][_0x104732(0x30f)];_0x2fa21a++){const _0x295cb4=this[_0x104732(0x21d)][_0x2fa21a]*_0xeef57d;this[_0x104732(0x1aa)][_0x104732(0x254)](0x0,_0x295cb4),this[_0x104732(0x1aa)]['lineTo'](this[_0x104732(0x212)][_0x104732(0x1bd)],_0x295cb4);}for(let _0x13595b=0x0;_0x13595b<this['verticalLines'][_0x104732(0x30f)];_0x13595b++){const _0x59bdd2=this[_0x104732(0x1c2)][_0x13595b]*_0x195fea;this[_0x104732(0x1aa)][_0x104732(0x254)](_0x59bdd2,0x0),this['ctx'][_0x104732(0x2e7)](_0x59bdd2,this['canvas']['height']);}this[_0x104732(0x1aa)][_0x104732(0x289)](),this[_0x104732(0x1aa)][_0x104732(0x1dc)]([]);}}[_0x552347(0x1de)](){const _0x29fe8a=_0x552347;if(this[_0x29fe8a(0x2c2)]===_0x29fe8a(0x233)){const _0x56c5ee=this[_0x29fe8a(0x215)][_0x29fe8a(0x1bd)]*0.1;this[_0x29fe8a(0x2b3)][_0x29fe8a(0x2c0)]({'x':_0x56c5ee,'y':_0x56c5ee}),this[_0x29fe8a(0x2b3)]['push']({'x':this[_0x29fe8a(0x215)][_0x29fe8a(0x1bd)]-_0x56c5ee,'y':_0x56c5ee}),this[_0x29fe8a(0x2b3)][_0x29fe8a(0x2c0)]({'x':this['currentCanvas'][_0x29fe8a(0x1bd)]-_0x56c5ee,'y':this[_0x29fe8a(0x215)][_0x29fe8a(0x2ee)]-_0x56c5ee}),this[_0x29fe8a(0x2b3)]['push']({'x':_0x56c5ee,'y':this[_0x29fe8a(0x215)][_0x29fe8a(0x2ee)]-_0x56c5ee}),this[_0x29fe8a(0x1e2)]();}}['setDefaultSplit'](){const _0x2a1ae2=_0x552347;this[_0x2a1ae2(0x2c2)]==='split'&&(document[_0x2a1ae2(0x1d9)](_0x2a1ae2(0x1c2))[_0x2a1ae2(0x317)]=0x1,this[_0x2a1ae2(0x244)](),this[_0x2a1ae2(0x241)]());}[_0x552347(0x2f3)](){const _0x280b15=_0x552347;this[_0x280b15(0x2b3)]=[],this[_0x280b15(0x24f)](),this['updatePointCount'](),document['getElementById'](_0x280b15(0x1d0))['disabled']=!![],document[_0x280b15(0x1d9)](_0x280b15(0x20c))['disabled']=!![],this[_0x280b15(0x1ed)](),this[_0x280b15(0x20e)][_0x280b15(0x316)][_0x280b15(0x2f0)]=_0x280b15(0x2f1);}[_0x552347(0x1c4)](){const _0x51f314=_0x552347;this[_0x51f314(0x2ac)]=[],this['historyIndex']=-0x1,this[_0x51f314(0x2c5)]();}[_0x552347(0x246)]=throttle(()=>this['_saveToHistory'](),0x1f4);['_saveToHistory'](){const _0x17d164=_0x552347;this[_0x17d164(0x2ac)]=this[_0x17d164(0x2ac)][_0x17d164(0x1e4)](0x0,this[_0x17d164(0x1d6)]+0x1);const _0x1086b9=[...this['points']],_0x3cbe88=this[_0x17d164(0x21d)],_0xc7d0a0=this['verticalLines'];this[_0x17d164(0x2b3)]=[],this['horizontalLines']=[],this[_0x17d164(0x1c2)]=[],this[_0x17d164(0x24f)]();const _0x532b88={'imageData':this[_0x17d164(0x215)]['toDataURL'](),'rotation':this[_0x17d164(0x27e)],'filters':{'main_canvas':this[_0x17d164(0x248)][_0x17d164(0x2fd)]}};this[_0x17d164(0x2b3)]=_0x1086b9,this[_0x17d164(0x21d)]=_0x3cbe88,this[_0x17d164(0x1c2)]=_0xc7d0a0,this[_0x17d164(0x24f)](),this[_0x17d164(0x2ac)][_0x17d164(0x2c0)](_0x532b88),this['historyIndex']++,this[_0x17d164(0x2ac)][_0x17d164(0x30f)]>0x14&&(this['history']['shift'](),this[_0x17d164(0x1d6)]--),this[_0x17d164(0x2c5)]();}[_0x552347(0x263)](){const _0x3d5bf6=_0x552347;if(this[_0x3d5bf6(0x1d6)]>0x0){this['historyIndex']--;const _0x1b8503=this[_0x3d5bf6(0x2ac)][this[_0x3d5bf6(0x1d6)]],_0x9f86ca=new Image();_0x9f86ca['onload']=()=>{const _0x46661e=_0x3d5bf6,_0x3c26b2=document[_0x46661e(0x286)](_0x46661e(0x212));_0x3c26b2[_0x46661e(0x1bd)]=_0x9f86ca[_0x46661e(0x1bd)],_0x3c26b2['height']=_0x9f86ca['height'];const _0x2d260e=_0x3c26b2[_0x46661e(0x1c5)]('2d');_0x2d260e[_0x46661e(0x24f)](_0x9f86ca,0x0,0x0),this[_0x46661e(0x215)]=_0x3c26b2,this[_0x46661e(0x27e)]=_0x1b8503[_0x46661e(0x27e)],this[_0x46661e(0x248)]=_0x1b8503[_0x46661e(0x248)],this[_0x46661e(0x266)](),this[_0x46661e(0x24f)](),this['updateHistoryButtons'](),this['clearSplitLines'](),this['resetPoints'](),this[_0x46661e(0x210)]();},_0x9f86ca[_0x3d5bf6(0x273)]=_0x1b8503[_0x3d5bf6(0x265)];}}[_0x552347(0x213)](){const _0x23cc5e=_0x552347;if(this[_0x23cc5e(0x1d6)]<this['history'][_0x23cc5e(0x30f)]-0x1){this[_0x23cc5e(0x1d6)]++;const _0x2a121a=this[_0x23cc5e(0x2ac)][this[_0x23cc5e(0x1d6)]],_0x54ba05=new Image();_0x54ba05[_0x23cc5e(0x2b4)]=()=>{const _0x17523a=_0x23cc5e,_0x249770=document[_0x17523a(0x286)]('canvas');_0x249770[_0x17523a(0x1bd)]=_0x54ba05[_0x17523a(0x1bd)],_0x249770[_0x17523a(0x2ee)]=_0x54ba05['height'];const _0x3944d1=_0x249770['getContext']('2d');_0x3944d1[_0x17523a(0x24f)](_0x54ba05,0x0,0x0),this[_0x17523a(0x215)]=_0x249770,this[_0x17523a(0x27e)]=_0x2a121a[_0x17523a(0x27e)],this['filters']=_0x2a121a[_0x17523a(0x248)],this['setupCanvasSize'](),this[_0x17523a(0x24f)](),this[_0x17523a(0x2c5)](),this[_0x17523a(0x2d5)](),this['resetPoints'](),this[_0x17523a(0x210)]();},_0x54ba05[_0x23cc5e(0x273)]=_0x2a121a['imageData'];}}[_0x552347(0x2c5)](){const _0x3f4eac=_0x552347;document[_0x3f4eac(0x1d9)](_0x3f4eac(0x227))[_0x3f4eac(0x1b6)]=this[_0x3f4eac(0x1d6)]<=0x0,document[_0x3f4eac(0x1d9)](_0x3f4eac(0x1db))[_0x3f4eac(0x1b6)]=this['historyIndex']>=this['history']['length']-0x1;}[_0x552347(0x1e2)](){const _0x1b5108=_0x552347;document['getElementById']('cropBtn')['disabled']=this[_0x1b5108(0x2b3)][_0x1b5108(0x30f)]!==0x4,document['getElementById'](_0x1b5108(0x20c))[_0x1b5108(0x1b6)]=this[_0x1b5108(0x2b3)]['length']===0x0;}[_0x552347(0x1e3)](){const _0x434596=_0x552347;if(this[_0x434596(0x2b3)][_0x434596(0x30f)]!==0x4){this['showStatus'](_0x434596(0x2fa),'error');return;}try{const _0x5645d1=Math[_0x434596(0x1a6)](...this[_0x434596(0x2b3)][_0x434596(0x2f2)](_0x529da8=>_0x529da8['x'])),_0x35a8a1=Math[_0x434596(0x31f)](...this['points'][_0x434596(0x2f2)](_0x2ce441=>_0x2ce441['x'])),_0x315a40=Math['min'](...this[_0x434596(0x2b3)]['map'](_0x118e3a=>_0x118e3a['y'])),_0x1929ea=Math[_0x434596(0x31f)](...this[_0x434596(0x2b3)][_0x434596(0x2f2)](_0x2f3418=>_0x2f3418['y'])),_0x103fbf=_0x35a8a1-_0x5645d1,_0x5e4b35=_0x1929ea-_0x315a40,_0x3b58b7=document[_0x434596(0x286)]('canvas');_0x3b58b7[_0x434596(0x1bd)]=_0x103fbf,_0x3b58b7['height']=_0x5e4b35;const _0x79fca4=_0x3b58b7[_0x434596(0x1c5)]('2d');_0x79fca4[_0x434596(0x21f)](0x0,0x0,_0x103fbf,_0x5e4b35),this[_0x434596(0x2ec)](this[_0x434596(0x215)],_0x3b58b7),this[_0x434596(0x215)]=_0x3b58b7,this[_0x434596(0x27e)]=0x0,this[_0x434596(0x266)](),this['resetPoints'](![]),this[_0x434596(0x2d5)](),this['currentMode']=null,document[_0x434596(0x1d9)](_0x434596(0x2c7))['textContent']='点击开始裁剪',document[_0x434596(0x1d9)](_0x434596(0x2c7))[_0x434596(0x1b6)]=![],document[_0x434596(0x1d9)](_0x434596(0x279))[_0x434596(0x1a8)]=_0x434596(0x24e),document[_0x434596(0x1d9)](_0x434596(0x279))[_0x434596(0x1b6)]=![],document[_0x434596(0x1d9)](_0x434596(0x2d6))[_0x434596(0x1b6)]=![],this['showStatus'](_0x434596(0x261),_0x434596(0x288)),this[_0x434596(0x246)]();}catch(_0x37873c){this[_0x434596(0x2f9)]('裁剪失败：'+_0x37873c[_0x434596(0x2f7)],_0x434596(0x2d3));}}[_0x552347(0x2ec)](_0x2990ad,_0x588c32){const _0x24614e=_0x552347,_0x208f68=_0x588c32[_0x24614e(0x1c5)]('2d'),_0x5be10e=_0x588c32[_0x24614e(0x1bd)],_0x4b3ffa=_0x588c32[_0x24614e(0x2ee)],_0x2fb1a1=_0x2990ad[_0x24614e(0x1c5)]('2d')[_0x24614e(0x19a)](0x0,0x0,_0x2990ad[_0x24614e(0x1bd)],_0x2990ad[_0x24614e(0x2ee)]),_0x32d3ea=_0x208f68['createImageData'](_0x5be10e,_0x4b3ffa),_0x5b7298=[{'x':0x0,'y':0x0},{'x':_0x5be10e,'y':0x0},{'x':_0x5be10e,'y':_0x4b3ffa},{'x':0x0,'y':_0x4b3ffa}],_0x168a36=this[_0x24614e(0x260)](this[_0x24614e(0x2b3)]),_0x2b530f=this[_0x24614e(0x220)](_0x5b7298,_0x168a36);for(let _0x589efb=0x0;_0x589efb<_0x4b3ffa;_0x589efb++){for(let _0x19246c=0x0;_0x19246c<_0x5be10e;_0x19246c++){const _0x4d3584=_0x2b530f[0x0]*_0x19246c+_0x2b530f[0x1]*_0x589efb+_0x2b530f[0x2],_0x298ce2=_0x2b530f[0x3]*_0x19246c+_0x2b530f[0x4]*_0x589efb+_0x2b530f[0x5],_0x566b00=_0x2b530f[0x6]*_0x19246c+_0x2b530f[0x7]*_0x589efb+_0x2b530f[0x8],_0xefe10e=_0x4d3584/_0x566b00,_0x12bb96=_0x298ce2/_0x566b00,_0x3d6c5c=this[_0x24614e(0x243)](_0x2fb1a1,_0xefe10e,_0x12bb96,_0x2990ad[_0x24614e(0x1bd)],_0x2990ad[_0x24614e(0x2ee)]),_0x5de3e0=(_0x589efb*_0x5be10e+_0x19246c)*0x4;_0x32d3ea['data'][_0x5de3e0]=_0x3d6c5c['r'],_0x32d3ea['data'][_0x5de3e0+0x1]=_0x3d6c5c['g'],_0x32d3ea[_0x24614e(0x2bd)][_0x5de3e0+0x2]=_0x3d6c5c['b'],_0x32d3ea[_0x24614e(0x2bd)][_0x5de3e0+0x3]=_0x3d6c5c['a'];}}_0x208f68[_0x24614e(0x28b)](_0x32d3ea,0x0,0x0);}[_0x552347(0x220)](_0x510d9b,_0x3ece7f){const _0x4dc63d=_0x552347,_0x129952=new Array(0x9),_0x53135e=[],_0x31ef10=[];for(let _0x20f4bf=0x0;_0x20f4bf<0x4;_0x20f4bf++){_0x53135e[_0x4dc63d(0x2c0)]([_0x510d9b[_0x20f4bf]['x'],_0x510d9b[_0x20f4bf]['y'],0x1,0x0,0x0,0x0,-_0x510d9b[_0x20f4bf]['x']*_0x3ece7f[_0x20f4bf]['x'],-_0x510d9b[_0x20f4bf]['y']*_0x3ece7f[_0x20f4bf]['x']]),_0x53135e[_0x4dc63d(0x2c0)]([0x0,0x0,0x0,_0x510d9b[_0x20f4bf]['x'],_0x510d9b[_0x20f4bf]['y'],0x1,-_0x510d9b[_0x20f4bf]['x']*_0x3ece7f[_0x20f4bf]['y'],-_0x510d9b[_0x20f4bf]['y']*_0x3ece7f[_0x20f4bf]['y']]),_0x31ef10['push'](_0x3ece7f[_0x20f4bf]['x']),_0x31ef10[_0x4dc63d(0x2c0)](_0x3ece7f[_0x20f4bf]['y']);}const _0x1c4072=this[_0x4dc63d(0x318)](_0x53135e,_0x31ef10);return _0x129952[0x0]=_0x1c4072[0x0],_0x129952[0x1]=_0x1c4072[0x1],_0x129952[0x2]=_0x1c4072[0x2],_0x129952[0x3]=_0x1c4072[0x3],_0x129952[0x4]=_0x1c4072[0x4],_0x129952[0x5]=_0x1c4072[0x5],_0x129952[0x6]=_0x1c4072[0x6],_0x129952[0x7]=_0x1c4072[0x7],_0x129952[0x8]=0x1,_0x129952;}['solveLinearSystem'](_0x5095c2,_0x1a50d7){const _0x2c6a14=_0x552347,_0x4713d6=_0x5095c2[_0x2c6a14(0x30f)],_0x47f387=_0x5095c2['map']((_0x204ddc,_0x40bbc8)=>[..._0x204ddc,_0x1a50d7[_0x40bbc8]]);for(let _0x21e84e=0x0;_0x21e84e<_0x4713d6;_0x21e84e++){let _0x461bed=_0x21e84e;for(let _0x2e4b26=_0x21e84e+0x1;_0x2e4b26<_0x4713d6;_0x2e4b26++){Math[_0x2c6a14(0x287)](_0x47f387[_0x2e4b26][_0x21e84e])>Math['abs'](_0x47f387[_0x461bed][_0x21e84e])&&(_0x461bed=_0x2e4b26);}[_0x47f387[_0x21e84e],_0x47f387[_0x461bed]]=[_0x47f387[_0x461bed],_0x47f387[_0x21e84e]];for(let _0x184f38=_0x21e84e+0x1;_0x184f38<_0x4713d6;_0x184f38++){const _0x409242=_0x47f387[_0x184f38][_0x21e84e]/_0x47f387[_0x21e84e][_0x21e84e];for(let _0x156e99=_0x21e84e;_0x156e99<_0x4713d6+0x1;_0x156e99++){_0x47f387[_0x184f38][_0x156e99]-=_0x409242*_0x47f387[_0x21e84e][_0x156e99];}}}const _0x1422e9=new Array(_0x4713d6);for(let _0x571cf5=_0x4713d6-0x1;_0x571cf5>=0x0;_0x571cf5--){_0x1422e9[_0x571cf5]=_0x47f387[_0x571cf5][_0x4713d6];for(let _0x351d33=_0x571cf5+0x1;_0x351d33<_0x4713d6;_0x351d33++){_0x1422e9[_0x571cf5]-=_0x47f387[_0x571cf5][_0x351d33]*_0x1422e9[_0x351d33];}_0x1422e9[_0x571cf5]/=_0x47f387[_0x571cf5][_0x571cf5];}return _0x1422e9;}[_0x552347(0x243)](_0x105ddc,_0x36640c,_0x2a282b,_0x4cdb70,_0x4c45d3){const _0x44d34b=_0x552347,_0x5e76f3=Math['floor'](_0x36640c),_0x3c9745=Math[_0x44d34b(0x1ef)](_0x2a282b),_0x1a13f0=Math[_0x44d34b(0x1a6)](_0x5e76f3+0x1,_0x4cdb70-0x1),_0x4fa3b3=Math[_0x44d34b(0x1a6)](_0x3c9745+0x1,_0x4c45d3-0x1),_0x268a94=_0x36640c-_0x5e76f3,_0x425cfb=_0x2a282b-_0x3c9745,_0x2c4cba=(_0x1dcce,_0x4ccb26)=>{const _0x18722b=_0x44d34b,_0xe4d636=(_0x4ccb26*_0x4cdb70+_0x1dcce)*0x4;return{'r':_0x105ddc[_0x18722b(0x2bd)][_0xe4d636],'g':_0x105ddc['data'][_0xe4d636+0x1],'b':_0x105ddc[_0x18722b(0x2bd)][_0xe4d636+0x2],'a':_0x105ddc[_0x18722b(0x2bd)][_0xe4d636+0x3]};},_0x123272=_0x2c4cba(_0x5e76f3,_0x3c9745),_0xfffa7d=_0x2c4cba(_0x5e76f3,_0x4fa3b3),_0x48bc90=_0x2c4cba(_0x1a13f0,_0x3c9745),_0x223ea8=_0x2c4cba(_0x1a13f0,_0x4fa3b3),_0x3c3ef0=(_0x49b773,_0x3a87b8,_0x103b40,_0x31abb0,_0x9937d8,_0x48c2f2)=>{const _0x13172f=_0x49b773*(0x1-_0x9937d8)+_0x3a87b8*_0x9937d8,_0x4f8034=_0x103b40*(0x1-_0x9937d8)+_0x31abb0*_0x9937d8;return _0x13172f*(0x1-_0x48c2f2)+_0x4f8034*_0x48c2f2;};return{'r':Math[_0x44d34b(0x29e)](_0x3c3ef0(_0x123272['r'],_0x48bc90['r'],_0xfffa7d['r'],_0x223ea8['r'],_0x268a94,_0x425cfb)),'g':Math['round'](_0x3c3ef0(_0x123272['g'],_0x48bc90['g'],_0xfffa7d['g'],_0x223ea8['g'],_0x268a94,_0x425cfb)),'b':Math[_0x44d34b(0x29e)](_0x3c3ef0(_0x123272['b'],_0x48bc90['b'],_0xfffa7d['b'],_0x223ea8['b'],_0x268a94,_0x425cfb)),'a':Math[_0x44d34b(0x29e)](_0x3c3ef0(_0x123272['a'],_0x48bc90['a'],_0xfffa7d['a'],_0x223ea8['a'],_0x268a94,_0x425cfb))};}[_0x552347(0x260)](_0x2f7274){const _0x429233=_0x552347;if(_0x2f7274['length']!==0x4)throw new Error(_0x429233(0x1a2));const _0x2fc0db=_0x2f7274[_0x429233(0x234)]((_0x42b97c,_0x2f71c3)=>_0x42b97c+_0x2f71c3['x'],0x0)/0x4,_0x4eb2c4=_0x2f7274[_0x429233(0x234)]((_0xa47e06,_0x960875)=>_0xa47e06+_0x960875['y'],0x0)/0x4,_0x41543f=_0x2f7274[_0x429233(0x2f2)](_0x3035f9=>({..._0x3035f9,'angle':Math['atan2'](_0x3035f9['y']-_0x4eb2c4,_0x3035f9['x']-_0x2fc0db)}))[_0x429233(0x207)]((_0x30a9c9,_0x4650a9)=>_0x30a9c9['angle']-_0x4650a9[_0x429233(0x201)])[_0x429233(0x2f2)](({x:_0x2e249a,y:_0x57ce97})=>({'x':_0x2e249a,'y':_0x57ce97}));return[_0x41543f[0x0],_0x41543f[0x1],_0x41543f[0x2],_0x41543f[0x3]];}[_0x552347(0x226)](){const _0x148002=_0x552347,_0x26a7e5=document[_0x148002(0x1d9)](_0x148002(0x29c))?.[_0x148002(0x308)]('canvas')||[],_0x52b502=document['createElement'](_0x148002(0x212));_0x52b502[_0x148002(0x1bd)]=this[_0x148002(0x215)][_0x148002(0x1bd)],_0x52b502[_0x148002(0x2ee)]=this[_0x148002(0x215)][_0x148002(0x2ee)];const _0x4d7d00=_0x52b502['getContext']('2d'),_0x4eded5=this[_0x148002(0x248)][_0x148002(0x2fd)]||{'brightness':0x64,'contrast':0x64,'saturate':0x64,'grayscale':0x0};let _0x3de9f9='';_0x3de9f9+=_0x148002(0x1f7)+_0x4eded5['brightness']+'%)\x20',_0x3de9f9+='contrast('+_0x4eded5[_0x148002(0x272)]+_0x148002(0x193),_0x3de9f9+=_0x148002(0x2ca)+_0x4eded5[_0x148002(0x2b0)]+_0x148002(0x193),_0x3de9f9+=_0x148002(0x25b)+_0x4eded5[_0x148002(0x2cd)]+_0x148002(0x193),_0x4d7d00[_0x148002(0x1b7)]=_0x3de9f9[_0x148002(0x1a5)](),_0x4d7d00['drawImage'](this['currentCanvas'],0x0,0x0),_0x4d7d00[_0x148002(0x1b7)]=_0x148002(0x2f1);const _0x5a7ad5=[_0x52b502,..._0x26a7e5];if(_0x5a7ad5[_0x148002(0x30f)]===0x0){this[_0x148002(0x2f9)](_0x148002(0x2d8),'error');return;}const _0x29408c=(_0x67c8f9,_0x573181)=>{const _0x5aaf6c=_0x148002,_0x24551c=document['createElement']('a');_0x24551c['download']=Date['now']()+'-'+Math[_0x5aaf6c(0x22f)]()[_0x5aaf6c(0x197)](0x24)['substring'](0x2,0x8)+'.png',_0x24551c[_0x5aaf6c(0x28f)]=_0x67c8f9[_0x5aaf6c(0x2b6)](_0x5aaf6c(0x2c3)),document[_0x5aaf6c(0x1b4)][_0x5aaf6c(0x1d8)](_0x24551c),_0x24551c[_0x5aaf6c(0x228)](),document[_0x5aaf6c(0x1b4)][_0x5aaf6c(0x25f)](_0x24551c);};_0x5a7ad5[_0x148002(0x2aa)]((_0x6746b3,_0x3f8f57)=>{setTimeout(()=>{const _0x119d18=_0x57cc;_0x29408c(_0x6746b3,_0x3f8f57),_0x3f8f57===_0x5a7ad5[_0x119d18(0x30f)]-0x1&&this[_0x119d18(0x2f9)](_0x5a7ad5[_0x119d18(0x30f)]>0x1?'共\x20'+_0x5a7ad5['length']+_0x119d18(0x2bb):'图片下载成功！',_0x119d18(0x288));},0x64*_0x3f8f57);});}['showStatus'](_0x51a222,_0x5d5bc3){const _0x2454b6=_0x552347,_0x9c361a=document[_0x2454b6(0x1d9)](_0x2454b6(0x253));_0x9c361a[_0x2454b6(0x1a8)]=_0x51a222,_0x9c361a['className']='status\x20'+_0x5d5bc3,_0x9c361a['style'][_0x2454b6(0x2f0)]=_0x2454b6(0x240),setTimeout(()=>{const _0xf5f8b6=_0x2454b6;this[_0xf5f8b6(0x1ed)]();},0xbb8);}[_0x552347(0x1ed)](){const _0x332ebe=_0x552347;document[_0x332ebe(0x1d9)]('status')[_0x332ebe(0x316)][_0x332ebe(0x2f0)]=_0x332ebe(0x2f1);}[_0x552347(0x30e)](_0x411e7a,_0x233c93){const _0x88877f=_0x552347;if(!this[_0x88877f(0x215)])return;this[_0x88877f(0x315)][_0x88877f(0x316)][_0x88877f(0x2f0)]=_0x88877f(0x240),this[_0x88877f(0x315)][_0x88877f(0x316)][_0x88877f(0x1c7)]=_0x411e7a-0x6e+'px',this[_0x88877f(0x315)][_0x88877f(0x316)][_0x88877f(0x250)]=_0x233c93+'px';const _0x3f326b=document[_0x88877f(0x1d9)]('magnifierCanvas'),_0x19acb4=document[_0x88877f(0x1d9)](_0x88877f(0x271));_0x3f326b['width']=0x96,_0x3f326b[_0x88877f(0x2ee)]=0x96;const _0x2c4955=this[_0x88877f(0x212)]['getBoundingClientRect'](),_0x3f9d99=_0x411e7a-_0x2c4955[_0x88877f(0x1c7)],_0x3acbc2=_0x233c93-_0x2c4955[_0x88877f(0x250)];let _0x2cd1fd=_0x3f9d99*(this[_0x88877f(0x215)][_0x88877f(0x1bd)]/_0x2c4955['width']),_0x38ed59=_0x3acbc2*(this['currentCanvas'][_0x88877f(0x2ee)]/_0x2c4955['height']);_0x2cd1fd=Math['max'](Math[_0x88877f(0x1a6)](_0x2cd1fd,this['currentCanvas'][_0x88877f(0x1bd)]),0x0),_0x38ed59=Math[_0x88877f(0x31f)](Math[_0x88877f(0x1a6)](_0x38ed59,this['currentCanvas'][_0x88877f(0x2ee)]),0x0),_0x19acb4[_0x88877f(0x1a8)]='('+Math[_0x88877f(0x29e)](_0x2cd1fd)+',\x20'+Math[_0x88877f(0x29e)](_0x38ed59)+')';const _0x35e70b=1.5;this[_0x88877f(0x2eb)][_0x88877f(0x21f)](0x0,0x0,0x96,0x96),this[_0x88877f(0x2eb)]['imageSmoothingEnabled']=![],this['magnifierCtx'][_0x88877f(0x24f)](this[_0x88877f(0x215)],_0x2cd1fd-0x4b/_0x35e70b,_0x38ed59-0x4b/_0x35e70b,0x96/_0x35e70b,0x96/_0x35e70b,0x0,0x0,0x96,0x96),this[_0x88877f(0x2eb)]['strokeStyle']='rgba(255,\x2082,\x2082,\x200.8)',this[_0x88877f(0x2eb)][_0x88877f(0x24a)]=_0x88877f(0x2a9),this['magnifierCtx'][_0x88877f(0x1ad)]=0x1,this['magnifierCtx'][_0x88877f(0x2a0)](),this['magnifierCtx'][_0x88877f(0x1dc)]([1.5,1.5]);const _0x163e18=0x3;this[_0x88877f(0x2eb)]['moveTo'](0x4b,0x4b-_0x163e18),this[_0x88877f(0x2eb)][_0x88877f(0x2e7)](0x4b,0x0),this[_0x88877f(0x2eb)][_0x88877f(0x254)](0x4b,0x4b+_0x163e18),this[_0x88877f(0x2eb)][_0x88877f(0x2e7)](0x4b,0x96),this['magnifierCtx'][_0x88877f(0x254)](0x4b-_0x163e18,0x4b),this[_0x88877f(0x2eb)][_0x88877f(0x2e7)](0x0,0x4b),this['magnifierCtx'][_0x88877f(0x254)](0x4b+_0x163e18,0x4b),this[_0x88877f(0x2eb)][_0x88877f(0x2e7)](0x96,0x4b),this[_0x88877f(0x2eb)][_0x88877f(0x289)](),this[_0x88877f(0x2eb)][_0x88877f(0x1e6)]='rgba(255,\x20255,\x20255,\x200.35)',this[_0x88877f(0x2eb)][_0x88877f(0x2a0)](),this[_0x88877f(0x2eb)][_0x88877f(0x1bb)](0x4b,0x4b,0x3,0x0,0x2*Math['PI']),this[_0x88877f(0x2eb)]['fill']();}[_0x552347(0x21a)](){const _0x37f16a=_0x552347;this[_0x37f16a(0x315)]['style'][_0x37f16a(0x2f0)]=_0x37f16a(0x2f1);}[_0x552347(0x19c)](){const _0x3f80d4=_0x552347;if(!this['currentCanvas']){this[_0x3f80d4(0x2f9)]('请先选择图片！',_0x3f80d4(0x2d3));return;}this[_0x3f80d4(0x1dd)][_0x3f80d4(0x316)][_0x3f80d4(0x2f0)]='block',this[_0x3f80d4(0x1dd)][_0x3f80d4(0x24d)][_0x3f80d4(0x30b)](_0x3f80d4(0x22a)),this[_0x3f80d4(0x198)][_0x3f80d4(0x316)][_0x3f80d4(0x2f0)]='none',this[_0x3f80d4(0x198)][_0x3f80d4(0x24d)][_0x3f80d4(0x2a3)]('active'),this[_0x3f80d4(0x1ec)](!![]),this[_0x3f80d4(0x206)](),this[_0x3f80d4(0x2f9)](_0x3f80d4(0x21e),_0x3f80d4(0x288));}[_0x552347(0x1fc)](){const _0x3eff47=_0x552347;this['printPreview']['style'][_0x3eff47(0x2f0)]='none',this['printPreview']['classList'][_0x3eff47(0x2a3)](_0x3eff47(0x22a)),this[_0x3eff47(0x198)][_0x3eff47(0x316)][_0x3eff47(0x2f0)]='',this[_0x3eff47(0x198)][_0x3eff47(0x24d)][_0x3eff47(0x30b)](_0x3eff47(0x22a)),this[_0x3eff47(0x206)]();}[_0x552347(0x1b3)](){const _0x1b1bd9=_0x552347;if(!this[_0x1b1bd9(0x215)])return;const _0x58cebb=document['getElementById'](_0x1b1bd9(0x20f));_0x58cebb[_0x1b1bd9(0x2d1)]='';const _0x1bdd2d=this[_0x1b1bd9(0x2ba)]();if(_0x1bdd2d['length']===0x0){const _0x2e8683=document[_0x1b1bd9(0x286)](_0x1b1bd9(0x1cf));_0x2e8683[_0x1b1bd9(0x1a8)]=_0x1b1bd9(0x2a4),_0x2e8683[_0x1b1bd9(0x316)][_0x1b1bd9(0x1e8)]='#81d4fa',_0x2e8683[_0x1b1bd9(0x316)][_0x1b1bd9(0x28a)]=_0x1b1bd9(0x22d),_0x2e8683[_0x1b1bd9(0x316)]['padding']=_0x1b1bd9(0x2ad),_0x58cebb[_0x1b1bd9(0x1d8)](_0x2e8683);return;}const _0x5460b0=this[_0x1b1bd9(0x305)](_0x58cebb['clientWidth']);_0x5460b0[_0x1b1bd9(0x2aa)](_0x556def=>_0x58cebb[_0x1b1bd9(0x1d8)](_0x556def));}[_0x552347(0x305)](_0x30f57c){const _0x44f037=_0x552347,_0x46f8a4=[];if(!this['currentCanvas'])return _0x46f8a4;const _0x2d8c14={'A4':0xd2/0x129,'A3':0x129/0x1a4,'A5':0x94/0xd2,'Letter':0xd8/0x117,'Legal':0xd8/0x164,'Tabloid':0x117/0x1b0,'Statement':0x8c/0xd8,'Executive':0xb8/0x10b,'B4':0x101/0x16c,'B5':0xb6/0x101};let _0x2f090d=_0x2d8c14[this[_0x44f037(0x301)]];this[_0x44f037(0x1ba)]===_0x44f037(0x2b8)&&(_0x2f090d=0x1/_0x2f090d);const _0x528d56=this[_0x44f037(0x2ba)]();if(_0x528d56[_0x44f037(0x30f)]===0x0)return _0x46f8a4;const _0xf094a5=this[_0x44f037(0x31b)](_0x528d56[_0x44f037(0x30f)]);for(let _0x25c761=0x0;_0x25c761<_0xf094a5;_0x25c761++){const _0x5a2c8a=document[_0x44f037(0x286)]('div');_0x5a2c8a[_0x44f037(0x323)]=_0x44f037(0x25a),_0x5a2c8a[_0x44f037(0x316)]['aspectRatio']=_0x2f090d;const _0x3412db=document[_0x44f037(0x286)](_0x44f037(0x1cf));_0x3412db[_0x44f037(0x323)]=_0x44f037(0x257),_0x3412db['textContent']=this['currentPaper']+'\x20'+(this[_0x44f037(0x1ba)]===_0x44f037(0x306)?'纵向':'横向')+_0x44f037(0x25d)+(_0x25c761+0x1)+'页)';const _0x13dce2=this[_0x44f037(0x1bc)](_0x528d56,_0x25c761);this[_0x44f037(0x2a2)](_0x13dce2,_0x5a2c8a,_0x30f57c,_0x2f090d),_0x5a2c8a[_0x44f037(0x1d8)](_0x3412db),_0x46f8a4[_0x44f037(0x2c0)](_0x5a2c8a);}return _0x46f8a4;}[_0x552347(0x31b)](_0x48d051){const _0x3958fc=_0x552347;switch(this[_0x3958fc(0x310)]){case _0x3958fc(0x1ab):return _0x48d051;case _0x3958fc(0x1f5):const _0x232fb0=this[_0x3958fc(0x1a1)]*this[_0x3958fc(0x2c9)];return Math[_0x3958fc(0x29d)](_0x48d051/_0x232fb0);case'vertical':return Math['ceil'](_0x48d051/0x2);case'horizontal':return Math[_0x3958fc(0x29d)](_0x48d051/0x2);default:return Math['ceil'](_0x48d051/0x4);}}[_0x552347(0x1bc)](_0x5905b8,_0x31ee84){const _0x5a3d65=_0x552347;let _0x1477b6;switch(this[_0x5a3d65(0x310)]){case _0x5a3d65(0x1ab):_0x1477b6=0x1;break;case _0x5a3d65(0x1f5):_0x1477b6=this[_0x5a3d65(0x1a1)]*this[_0x5a3d65(0x2c9)];break;case _0x5a3d65(0x2ab):case'horizontal':_0x1477b6=0x2;break;default:_0x1477b6=0x4;}const _0x514744=_0x31ee84*_0x1477b6,_0x29fc81=Math[_0x5a3d65(0x1a6)](_0x514744+_0x1477b6,_0x5905b8[_0x5a3d65(0x30f)]);return _0x5905b8[_0x5a3d65(0x1e4)](_0x514744,_0x29fc81);}['applyLayout'](_0x5083a4,_0x3dacd9,_0x6fa575,_0x376b08){const _0x404b7c=_0x552347,_0xfa3dbf=_0x6fa575/_0x376b08,_0x460fe8=_0x6fa575-this['margin']*0x2-(this[_0x404b7c(0x29b)]?0x0:0x4),_0x2808e8=_0xfa3dbf-this[_0x404b7c(0x1b1)]*0x2-(this['isPrintMode']?0x0:0x2);_0x3dacd9[_0x404b7c(0x316)][_0x404b7c(0x2bc)]=_0x404b7c(0x235)+this[_0x404b7c(0x1b1)]+_0x404b7c(0x221)+this['spacing']+_0x404b7c(0x30a)+_0x376b08+_0x404b7c(0x1c1);switch(this[_0x404b7c(0x310)]){case _0x404b7c(0x1ab):this[_0x404b7c(0x258)](_0x5083a4,_0x3dacd9,_0x460fe8,_0x2808e8);break;case _0x404b7c(0x1f5):this[_0x404b7c(0x322)](_0x5083a4,_0x3dacd9,_0x460fe8,_0x2808e8);break;case _0x404b7c(0x2ab):this[_0x404b7c(0x196)](_0x5083a4,_0x3dacd9,_0x460fe8,_0x2808e8);break;case _0x404b7c(0x20b):this[_0x404b7c(0x252)](_0x5083a4,_0x3dacd9,_0x460fe8,_0x2808e8);break;}}[_0x552347(0x258)](_0x184509,_0xd8bf29,_0x804fa2,_0x7f382d){_0x184509['forEach'](_0x362ea9=>{this['createImageElement'](_0x362ea9,_0xd8bf29,_0x804fa2,_0x7f382d,!![]);});}[_0x552347(0x322)](_0x20b224,_0x1acebe,_0x5927ca,_0x5a2a88){const _0x3f1ec6=_0x552347,_0x4a9eee=this[_0x3f1ec6(0x2c9)],_0xcd37f7=this[_0x3f1ec6(0x1a1)],_0x432224=_0x5927ca/_0xcd37f7-this[_0x3f1ec6(0x26b)]*(_0xcd37f7-0x1)/_0xcd37f7,_0xb14a10=_0x5a2a88/_0x4a9eee-this[_0x3f1ec6(0x26b)]*(_0x4a9eee-0x1)/_0x4a9eee,_0x26124b=document['createElement'](_0x3f1ec6(0x1cf));_0x26124b[_0x3f1ec6(0x316)][_0x3f1ec6(0x2bc)]=_0x3f1ec6(0x2d7)+this[_0x3f1ec6(0x26b)]+_0x3f1ec6(0x1f9);for(let _0x75ef6b=0x0;_0x75ef6b<_0x4a9eee;_0x75ef6b++){const _0x5f2e0a=document[_0x3f1ec6(0x286)](_0x3f1ec6(0x1cf));_0x5f2e0a[_0x3f1ec6(0x316)][_0x3f1ec6(0x2bc)]=_0x3f1ec6(0x291)+this[_0x3f1ec6(0x26b)]+'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';for(let _0x38ba50=0x0;_0x38ba50<_0xcd37f7;_0x38ba50++){const _0x4ba992=_0x75ef6b*_0xcd37f7+_0x38ba50;if(_0x4ba992<_0x20b224[_0x3f1ec6(0x30f)])this['createImageElement'](_0x20b224[_0x4ba992],_0x5f2e0a,_0x432224,_0xb14a10,!![]);else{const _0x47d553=document[_0x3f1ec6(0x286)](_0x3f1ec6(0x1cf));_0x47d553['style'][_0x3f1ec6(0x2bc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20'+_0x432224+_0x3f1ec6(0x1f2)+_0xb14a10+_0x3f1ec6(0x25e),_0x47d553['classList'][_0x3f1ec6(0x30b)](_0x3f1ec6(0x2c1)),_0x5f2e0a['appendChild'](_0x47d553);}}_0x26124b[_0x3f1ec6(0x1d8)](_0x5f2e0a);}_0x1acebe[_0x3f1ec6(0x1d8)](_0x26124b);}[_0x552347(0x196)](_0xffd409,_0x1d467a,_0x1f06fb,_0x44ed43){const _0x5923c9=_0x552347,_0x418c0e=_0x44ed43/_0xffd409[_0x5923c9(0x30f)]-this[_0x5923c9(0x26b)]*(_0xffd409[_0x5923c9(0x30f)]-0x1)/_0xffd409[_0x5923c9(0x30f)];_0xffd409[_0x5923c9(0x2aa)](_0x58ecfa=>{const _0x3b39ce=_0x5923c9;this[_0x3b39ce(0x31c)](_0x58ecfa,_0x1d467a,_0x1f06fb,_0x418c0e,!![]);});}[_0x552347(0x252)](_0xfdcdbd,_0x4ebfd8,_0x523eb7,_0x13705c){const _0x31ac2e=_0x552347,_0x396096=document[_0x31ac2e(0x286)](_0x31ac2e(0x1cf));_0x396096[_0x31ac2e(0x316)][_0x31ac2e(0x2bc)]=_0x31ac2e(0x1a0)+this['spacing']+_0x31ac2e(0x1f9);const _0x5194f6=_0x523eb7/_0xfdcdbd[_0x31ac2e(0x30f)]-this[_0x31ac2e(0x26b)]*(_0xfdcdbd[_0x31ac2e(0x30f)]-0x1)/_0xfdcdbd['length'];_0xfdcdbd[_0x31ac2e(0x2aa)](_0x14bedd=>{const _0x5be76b=_0x31ac2e;this[_0x5be76b(0x31c)](_0x14bedd,_0x396096,_0x5194f6,_0x13705c,!![]);}),_0x4ebfd8[_0x31ac2e(0x1d8)](_0x396096);}['createImageElement'](_0x367c72,_0x2f60e6,_0x5f070f,_0x6b7a9e,_0x45ec97){const _0x43559e=_0x552347,_0x466a53=document[_0x43559e(0x286)](_0x43559e(0x1cf));_0x466a53[_0x43559e(0x316)][_0x43559e(0x2bc)]=_0x43559e(0x269);const _0x2d128e=document[_0x43559e(0x286)](_0x43559e(0x256));_0x2d128e['src']=_0x367c72['canvas'][_0x43559e(0x2b6)](),_0x2d128e[_0x43559e(0x2cf)]=_0x367c72[_0x43559e(0x285)];const _0x51897a=_0x367c72['canvas'][_0x43559e(0x1bd)]/_0x367c72[_0x43559e(0x212)][_0x43559e(0x2ee)];if(_0x45ec97)switch(this[_0x43559e(0x204)]){case _0x43559e(0x1f6):let _0x1ab707=_0x5f070f,_0x50b874=_0x5f070f/_0x51897a;_0x50b874>_0x6b7a9e&&(_0x50b874=_0x6b7a9e,_0x1ab707=_0x6b7a9e*_0x51897a);_0x2d128e[_0x43559e(0x316)]['width']=_0x1ab707+'px',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x50b874+'px',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x281)]=''+_0x51897a,_0x2d128e[_0x43559e(0x316)][_0x43559e(0x1df)]='contain',_0x466a53['style']['width']=_0x5f070f+'px',_0x466a53[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x6b7a9e+'px';break;case _0x43559e(0x1a4):_0x2d128e[_0x43559e(0x316)][_0x43559e(0x1bd)]=_0x5f070f+'px',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x6b7a9e+'px',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x1df)]=_0x43559e(0x1a4),_0x466a53[_0x43559e(0x316)][_0x43559e(0x1bd)]=_0x5f070f+'px',_0x466a53[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x6b7a9e+'px';break;case _0x43559e(0x2b7):break;case'scale-down':default:_0x2d128e['style'][_0x43559e(0x1cd)]=_0x5f070f+'px',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2da)]=_0x6b7a9e+'px',_0x2d128e['style'][_0x43559e(0x1bd)]=_0x43559e(0x1af),_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x43559e(0x1af),_0x2d128e[_0x43559e(0x316)][_0x43559e(0x1df)]=_0x43559e(0x1f6),_0x466a53[_0x43559e(0x316)][_0x43559e(0x1bd)]=_0x5f070f+'px',_0x466a53[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x6b7a9e+'px';}if(this[_0x43559e(0x204)]!=='fill'){let _0x33039e=parseFloat(_0x466a53[_0x43559e(0x316)][_0x43559e(0x1bd)])/parseFloat(_0x466a53['style'][_0x43559e(0x2ee)]);switch(this[_0x43559e(0x2dd)]){case'left':_0x466a53[_0x43559e(0x316)][_0x43559e(0x267)]=_0x43559e(0x19e),_0x466a53[_0x43559e(0x316)]['flexDirection']=_0x43559e(0x312),_0x2d128e['style'][_0x43559e(0x1bd)]=_0x51897a<_0x33039e?_0x43559e(0x1af):'100%';break;case _0x43559e(0x2d2):_0x466a53['style']['justifyContent']=_0x43559e(0x1e0),_0x466a53[_0x43559e(0x316)]['flexDirection']=_0x43559e(0x312),_0x2d128e[_0x43559e(0x316)]['width']=_0x51897a<_0x33039e?_0x43559e(0x1af):_0x43559e(0x19b);break;case'top':_0x466a53['style']['justifyContent']='flex-start',_0x466a53['style']['flexDirection']='column',_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x51897a<_0x33039e?'100%':_0x43559e(0x1af);break;case _0x43559e(0x2b2):_0x466a53[_0x43559e(0x316)][_0x43559e(0x267)]=_0x43559e(0x1e0),_0x466a53[_0x43559e(0x316)]['flexDirection']=_0x43559e(0x1cb),_0x2d128e[_0x43559e(0x316)][_0x43559e(0x2ee)]=_0x51897a<_0x33039e?_0x43559e(0x19b):_0x43559e(0x1af);break;default:_0x466a53[_0x43559e(0x316)][_0x43559e(0x267)]=_0x43559e(0x22d);}}_0x466a53[_0x43559e(0x1d8)](_0x2d128e),_0x2f60e6['appendChild'](_0x466a53);}[_0x552347(0x2ba)](){const _0x31b03b=_0x552347,_0x45461a=[],_0x1f2a30=document['getElementById']('printEdited')[_0x31b03b(0x2a1)],_0x2d5822=document[_0x31b03b(0x1d9)](_0x31b03b(0x2e2))['checked'];_0x1f2a30&&this[_0x31b03b(0x215)]&&_0x45461a[_0x31b03b(0x2c0)]({'type':'edited','title':_0x31b03b(0x1ee),'canvas':this[_0x31b03b(0x2db)](this[_0x31b03b(0x215)])});if(_0x2d5822){const _0xeb15af=document['querySelectorAll']('#splitPreview\x20canvas');_0xeb15af[_0x31b03b(0x2aa)]((_0x10ea1a,_0x6c6d4)=>{const _0x166f31=_0x31b03b;_0x45461a[_0x166f31(0x2c0)]({'type':'split','title':_0x166f31(0x2e4)+(_0x6c6d4+0x1),'canvas':this['createFilteredCanvas'](_0x10ea1a)});});}return _0x45461a;}[_0x552347(0x1ec)](_0x22726a=![]){const _0x77416a=_0x552347;this['selectedImages']=[];const _0x318a92=document['getElementById'](_0x77416a(0x21c))['checked'],_0x538128=document[_0x77416a(0x1d9)]('printSplit')[_0x77416a(0x2a1)];_0x318a92&&this[_0x77416a(0x215)]&&this[_0x77416a(0x2cb)][_0x77416a(0x2c0)]({'type':_0x77416a(0x28d),'title':_0x77416a(0x1ee),'canvas':this['createFilteredCanvas'](this[_0x77416a(0x215)])});if(_0x538128){const _0x1514bb=document[_0x77416a(0x308)](_0x77416a(0x1f4));_0x1514bb['forEach']((_0x5f094f,_0x4011e5)=>{const _0x981cdc=_0x77416a;this[_0x981cdc(0x2cb)][_0x981cdc(0x2c0)]({'type':_0x981cdc(0x309),'title':_0x981cdc(0x2e4)+(_0x4011e5+0x1),'canvas':this[_0x981cdc(0x2db)](_0x5f094f)});});}_0x22726a&&this['selectedImages'][_0x77416a(0x30f)]==0x0&&this[_0x77416a(0x215)]&&(this[_0x77416a(0x2cb)][_0x77416a(0x2c0)]({'type':_0x77416a(0x28d),'title':_0x77416a(0x1ee),'canvas':this[_0x77416a(0x2db)](this[_0x77416a(0x215)])}),document[_0x77416a(0x1d9)]('printEdited')[_0x77416a(0x2a1)]=!![]),this[_0x77416a(0x1b3)]();}[_0x552347(0x2db)](_0x2cc6d2){const _0x279d57=_0x552347,_0x48db3f=document[_0x279d57(0x286)]('canvas'),_0x6a8aa1=_0x48db3f[_0x279d57(0x1c5)]('2d');if(_0x2cc6d2 instanceof HTMLImageElement)_0x48db3f[_0x279d57(0x1bd)]=_0x2cc6d2[_0x279d57(0x1bd)],_0x48db3f[_0x279d57(0x2ee)]=_0x2cc6d2[_0x279d57(0x2ee)];else _0x2cc6d2 instanceof HTMLCanvasElement&&(_0x48db3f[_0x279d57(0x1bd)]=_0x2cc6d2[_0x279d57(0x1bd)],_0x48db3f[_0x279d57(0x2ee)]=_0x2cc6d2[_0x279d57(0x2ee)]);let _0x1195a5='';Object[_0x279d57(0x1f8)](this[_0x279d57(0x31e)])[_0x279d57(0x2aa)](([_0x3a81d8,_0x21c212])=>{const _0x3970f4=_0x279d57,_0x497b3a=_0x3a81d8===_0x3970f4(0x25c)?'deg':'%';_0x1195a5+=_0x3a81d8+'('+_0x21c212+_0x497b3a+')\x20';}),_0x6a8aa1[_0x279d57(0x1b7)]=_0x1195a5['trim']();if(_0x2cc6d2 instanceof HTMLImageElement)_0x6a8aa1[_0x279d57(0x24f)](_0x2cc6d2,0x0,0x0);else _0x2cc6d2 instanceof HTMLCanvasElement&&_0x6a8aa1[_0x279d57(0x24f)](_0x2cc6d2,0x0,0x0);return _0x48db3f;}[_0x552347(0x216)](){const _0x2f1bfb=_0x552347;if(this['selectedImages'][_0x2f1bfb(0x30f)]===0x0){this[_0x2f1bfb(0x2f9)](_0x2f1bfb(0x2f6),_0x2f1bfb(0x2d3));return;}const _0x31aeb8=confirm(_0x2f1bfb(0x29f)+this[_0x2f1bfb(0x2cb)][_0x2f1bfb(0x30f)]+_0x2f1bfb(0x302)+this[_0x2f1bfb(0x301)]+_0x2f1bfb(0x1a7)+(this['orientationMode']===_0x2f1bfb(0x306)?'纵向':'横向')+_0x2f1bfb(0x31d));if(!_0x31aeb8)return;const _0x435225=document[_0x2f1bfb(0x1d9)](_0x2f1bfb(0x274))||document[_0x2f1bfb(0x286)](_0x2f1bfb(0x1cf));_0x435225['innerHTML']='',_0x435225['id']=_0x2f1bfb(0x274),_0x435225['classList'][_0x2f1bfb(0x30b)](_0x2f1bfb(0x313)),document[_0x2f1bfb(0x1b4)][_0x2f1bfb(0x1d8)](_0x435225);let _0x5072b6=document[_0x2f1bfb(0x1d9)](_0x2f1bfb(0x218));!_0x5072b6&&(_0x5072b6=document[_0x2f1bfb(0x286)](_0x2f1bfb(0x316)),_0x5072b6['id']='print-style',document[_0x2f1bfb(0x2f4)][_0x2f1bfb(0x1d8)](_0x5072b6));this[_0x2f1bfb(0x1ba)]===_0x2f1bfb(0x2b8)?_0x5072b6[_0x2f1bfb(0x2d1)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@page\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20size:\x20landscape;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5072b6[_0x2f1bfb(0x2d1)]=_0x2f1bfb(0x1d5);const _0x149878={'A4':[0xd2,0x129],'A3':[0x129,0x1a4],'A5':[0x94,0xd2],'Letter':[0xd8,0x117],'Legal':[0xd8,0x164],'Tabloid':[0x117,0x1b0],'Statement':[0x8c,0xd8],'Executive':[0xb8,0x10b],'B4':[0x101,0x16c],'B5':[0xb6,0x101]},_0x2f72ad=this[_0x2f1bfb(0x1ba)]===_0x2f1bfb(0x2b8)?0x1:0x0;let _0xec89c=(_0x149878[this[_0x2f1bfb(0x301)]][_0x2f72ad]||0xd2)*0x60/25.4;_0x435225[_0x2f1bfb(0x316)][_0x2f1bfb(0x1bd)]=_0xec89c+'px',this[_0x2f1bfb(0x29b)]=!![];const _0x452c13=this[_0x2f1bfb(0x305)](_0xec89c);_0x452c13['forEach'](_0x1904f7=>_0x435225[_0x2f1bfb(0x1d8)](_0x1904f7)),window['print'](),this[_0x2f1bfb(0x29b)]=![],_0x435225[_0x2f1bfb(0x2a3)](),_0x5072b6['remove']();}[_0x552347(0x206)](){const _0x42c01c=_0x552347,_0x1b20e7=!document['querySelector'](_0x42c01c(0x31a)),_0x415930=document[_0x42c01c(0x1d9)](_0x42c01c(0x230)),_0x422b3c=document['getElementById'](_0x42c01c(0x255)),_0x177932=document[_0x42c01c(0x1d9)]('editStartPrintBtn');_0x415930[_0x42c01c(0x24d)]['toggle'](_0x42c01c(0x194),_0x1b20e7),_0x422b3c[_0x42c01c(0x24d)]['toggle'](_0x42c01c(0x194),_0x1b20e7),_0x177932[_0x42c01c(0x24d)]['toggle'](_0x42c01c(0x194),!_0x1b20e7);}}document['addEventListener']('DOMContentLoaded',()=>{new AdvancedImageCropper();});function debounce(_0x101b88,_0x3f24d5=0xc8){let _0x1fe83a=null;return function(..._0xdb532d){const _0x340db5=_0x57cc;clearTimeout(_0x1fe83a),_0x1fe83a=setTimeout(()=>_0x101b88[_0x340db5(0x300)](this,_0xdb532d),_0x3f24d5);};}function throttle(_0x22cf9f,_0x2ed98c=0x64){let _0x68982=0x0;return function(..._0x1d25b4){const _0x93ff34=_0x57cc,_0x6b6c4a=Date[_0x93ff34(0x1c6)]();_0x6b6c4a-_0x68982>=_0x2ed98c&&(_0x22cf9f['apply'](this,_0x1d25b4),_0x68982=_0x6b6c4a);};}function checkFooter(){const _0x3dff64=_0x552347,_0x3c84fa=document[_0x3dff64(0x1d9)](_0x3dff64(0x2df)),_0x5464b0=document[_0x3dff64(0x217)][_0x3dff64(0x225)]>window['innerHeight']+0x1;!_0x5464b0?_0x3c84fa[_0x3dff64(0x24d)][_0x3dff64(0x30b)](_0x3dff64(0x27c)):_0x3c84fa['classList']['toggle']('show',window['scrollY']+window[_0x3dff64(0x27d)]>=document[_0x3dff64(0x217)][_0x3dff64(0x225)]-0xa);}function scroll_handler(_0x63ce44){checkFooter();}function _0x170f(){const _0x34eccb=['textAlign','putImageData','getBoundingClientRect','edited','cleanSplitImageFilter','href','increaseVerticalLines','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x20','rotate','updateFilter','33901eULkig','replace','scale(','readAsDataURL','.layout-btn','options','1970166GhIQZm','isPrintMode','splitPreview','ceil','round','即将开始打印\x20','beginPath','checked','applyLayout','remove','请选择要打印的图片','brightness','handleSplitModeMouseDown','split_','clearSplitBtn','#0333ff','forEach','vertical','history','20px','decreaseV','preventDefault','saturate','3sjofmi','bottom','points','onload','切割预览已生成，点击任意切割图可作为新图片使用','toDataURL','cover','landscape','splitGridContainer','getSelectedImagesForPreview','\x20张图片下载成功！','cssText','data','wheel','28614620XEsaNN','push','empty-cell','currentMode','image/png','resetFilters','updateHistoryButtons','changeFilterImage','cropSwitchBtn','contrast(','gridRows','saturate(','selectedImages','mouseenter','grayscale','split_image_container_','alt','crosshair','innerHTML','right','error','updateRotationDisplay','clearSplitLines','downloadBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x20','无图片可下载！','transform','maxHeight','createFilteredCanvas','toggleCropMode','horizontalAlign','已将切割图作为新图片，可以继续编辑或下载结果。','footer','position:\x20relative;cursor:\x20pointer;border:\x20','translate','printSplit','prePrintState','切割图\x20','startsWith','resetRotateBtn','lineTo','change','repeat(','rotateSlider','magnifierCtx','applyPerspectiveTransform','useSplitAsNewImage','height','handleCorpModeMouseDown','display','none','map','resetPoints','head','grayscale-value','请至少选择一张图片进行打印！','message','isHoveringPoint','showStatus','请先选择四个点创建四边形选区！','touchcancel','applyFiltersToAll','main_canvas','loadImage','touches','apply','currentPaper','\x20张图片。\x0a\x0a请在浏览器打印对话框中选择纸张大小【','滤镜已重置','点击结束裁剪','createPaperPreview','portrait','new','querySelectorAll','split','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aspect-ratio:\x20','add','2383438tZqWHP','2792kxamjw','showMagnifier','length','layoutMode','resize','row','paper-previews','increaseH','magnifier','style','value','solveLinearSystem','ew-resize','.print-preview.active','calculateTotalPages','createImageElement','】。\x0a\x0a点击\x22确定\x22继续打印。','printFilters','max','target','#4fc3f7','applyGridLayout','className','%)\x20','hidden','splitImageBtn','applyVerticalLayout','toString','editPreview','-value','getImageData','100%','showPrintPreview','calculateSplitRegions','flex-start','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x20','gridCols','need\x204\x20points','handleRotateWheel','fill','trim','min','】和打印方向【','textContent','handleCropModeMouseMove','ctx','single','innerWidth','lineWidth','touchend','auto','contrast-value','margin','borderColor','updatePaperPreview','body','deltaY','disabled','filter','fileInput','split_image_','orientationMode','arc','getPageImages','width','magnifierCanvas','applyRotation','orientation',';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verticalLines','resetFiltersBtn','clearHistory','getContext','now','left','rotateLeftBtn','splitImages','handleTouchStart','column','increaseHorizontalLines','maxWidth','#filterImageSelector\x20option[value=\x22','div','cropBtn','clientY','decreaseHorizontalLines','4433300uvgezJ','isDraggingLine','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@page\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20size:\x20portrait;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','historyIndex','decreaseVerticalLines','appendChild','getElementById','sin','redoBtn','setLineDash','printPreview','setDefaultCorpArea','objectFit','flex-end','分图\x20','updatePointCount','cropImage','slice','handleMouseDown','fillStyle','dragLineType','color','editStartPrintBtn','rgba(255,\x20255,\x20255,\x200.2)','decreaseH','updatePrintImages','hideStatus','编辑后的图片','floor','handleMouseUp','ns-resize','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20','.paper-btn','#splitPreview\x20canvas','grid','contain','brightness(','entries','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input','cos','hidePrintPreview','all','smooth','cloneCanvas','rotateInput','angle','transparent','increaseV','scaleMode','initEventListeners','update_fixed_btn','sort','spacingSlider','cursor','updateSplitControls','horizontal','cleanPointsBtn','gridTemplateColumns','pointHover','paperPreviewsContainer','updateFilterControls','color:\x20#4fc3f7;','canvas','redo','current-edit-filter','currentCanvas','startPrint','documentElement','print-style','brightness-value','hideMagnifier','setDefaultSplit','printEdited','horizontalLines','已进入打印预览模式','clearRect','calculatePerspectiveMatrix','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x20','dataset','点击结束切割','load','scrollHeight','downloadResult','undoBtn','click','1486579PDFAfk','active','handleSplitModeMouseMove','filterImageSelector','center','prevRotation','random','backToEditBtn','handleRotation','parentNode','crop','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x20','dragLineIndex','mousedown','.orientation-btn','spacingValue','addSplitImageFilter','currentFilterImage','图片加载成功！可以调整旋转角度或开始创建选区。','backToTopBtn','marginSlider','observe','block','applySplitLines','handleMouseMove','bilinearInterpolate','updateSplitButtons','handleCanvasClick','saveToHistory','originalCanvas','filters','saturate-value','strokeStyle','touchstart','drawSplitImage','classList','点击开始切割','drawImage','top','5XyHAMw','applyHorizontalLayout','status','moveTo','previewStartPrintBtn','img','paper-label','applySingleLayout','keys','paper-preview','grayscale(','hue-rotate','\x20(第','px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20dashed\x20rgba(79,\x20195,\x20247,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','orderQuadPoints','裁剪成功！您可以继续编辑或下载结果。','option','undo','handleTouchEnd','imageData','setupCanvasSize','justifyContent','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.05);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','点击开始裁剪','spacing','切割预览','move','addEventListener','gridSettings','hoverPointIndex','magnifierCoords','contrast','src','print-main','isDragging','9357921kDqCIs','dragPointIndex','scrollTo','splitSwitchBtn','rotateByAmount','rgba(3,51,256,0.7)','show','innerHeight','rotation',',\x201fr)','marginValue','aspectRatio','display:\x20grid;gap:\x20','scroll','resetRotation','title','createElement','abs','success','stroke'];_0x170f=function(){return _0x34eccb;};return _0x170f();}new ResizeObserver(scroll_handler)[_0x552347(0x23f)](document[_0x552347(0x1b4)]),window[_0x552347(0x26e)](_0x552347(0x283),scroll_handler),window[_0x552347(0x26e)](_0x552347(0x311),scroll_handler),window[_0x552347(0x26e)](_0x552347(0x224),scroll_handler);
    </script>
</body>
</html>